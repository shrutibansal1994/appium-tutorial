'use strict';

var _regeneratorRuntime = require('babel-runtime/regenerator')['default'];

var _interopRequireDefault = require('babel-runtime/helpers/interop-require-default')['default'];

var _chai = require('chai');

var _chai2 = _interopRequireDefault(_chai);

var _chaiAsPromised = require('chai-as-promised');

var _chaiAsPromised2 = _interopRequireDefault(_chaiAsPromised);

var _sinon = require('sinon');

var _sinon2 = _interopRequireDefault(_sinon);

var _appiumAndroidBootstrap = require('appium-android-bootstrap');

var _appiumAndroidBootstrap2 = _interopRequireDefault(_appiumAndroidBootstrap);

var _ = require('../../..');

var _2 = _interopRequireDefault(_);

var _appiumAdb = require('appium-adb');

var _appiumAdb2 = _interopRequireDefault(_appiumAdb);

var _libAndroidHelpers = require('../../../lib/android-helpers');

var _libAndroidHelpers2 = _interopRequireDefault(_libAndroidHelpers);

var driver = undefined;
var sandbox = _sinon2['default'].createSandbox();
_chai2['default'].should();
_chai2['default'].use(_chaiAsPromised2['default']);

describe('Element', function () {
  beforeEach(function () {
    driver = new _2['default']();
    driver.adb = new _appiumAdb2['default']();
    driver.bootstrap = new _appiumAndroidBootstrap2['default']();
    sandbox.stub(driver.bootstrap, 'sendAction');
    sandbox.stub(_libAndroidHelpers2['default'], 'removeNullProperties');
    driver.opts = { unicodeKeyboard: true };
  });
  afterEach(function () {
    sandbox.restore();
  });
  describe('getAttribute', function () {
    it('should get element attribute', function callee$2$0() {
      return _regeneratorRuntime.async(function callee$2$0$(context$3$0) {
        while (1) switch (context$3$0.prev = context$3$0.next) {
          case 0:
            driver.bootstrap.sendAction.withArgs('element:getAttribute').returns('attr_value');
            context$3$0.next = 3;
            return _regeneratorRuntime.awrap(driver.getAttribute('attr', 'el1').should.become('attr_value'));

          case 3:
            driver.bootstrap.sendAction.calledWithExactly('element:getAttribute', { attribute: 'attr', elementId: 'el1' }).should.be['true'];

          case 4:
          case 'end':
            return context$3$0.stop();
        }
      }, null, this);
    });
  });
  describe('getName', function () {
    it('should get element name', function callee$2$0() {
      return _regeneratorRuntime.async(function callee$2$0$(context$3$0) {
        while (1) switch (context$3$0.prev = context$3$0.next) {
          case 0:
            sandbox.stub(driver, 'getAttribute');
            driver.getAttribute.returns('el_name');
            context$3$0.next = 4;
            return _regeneratorRuntime.awrap(driver.getName('el1').should.become('el_name'));

          case 4:
            driver.getAttribute.calledWithExactly('className', 'el1').should.be['true'];

          case 5:
          case 'end':
            return context$3$0.stop();
        }
      }, null, this);
    });
  });
  describe('elementDisplayed', function () {
    it('should return true if element displayed', function callee$2$0() {
      return _regeneratorRuntime.async(function callee$2$0$(context$3$0) {
        while (1) switch (context$3$0.prev = context$3$0.next) {
          case 0:
            sandbox.stub(driver, 'getAttribute');
            driver.getAttribute.returns('true');
            context$3$0.next = 4;
            return _regeneratorRuntime.awrap(driver.elementDisplayed('el1').should.become(true));

          case 4:
            driver.getAttribute.calledWithExactly('displayed', 'el1').should.be['true'];

          case 5:
          case 'end':
            return context$3$0.stop();
        }
      }, null, this);
    });
    it('should return false if element not displayed', function callee$2$0() {
      return _regeneratorRuntime.async(function callee$2$0$(context$3$0) {
        while (1) switch (context$3$0.prev = context$3$0.next) {
          case 0:
            sandbox.stub(driver, 'getAttribute');
            driver.getAttribute.returns('false');
            context$3$0.next = 4;
            return _regeneratorRuntime.awrap(driver.elementDisplayed('el1').should.become(false));

          case 4:
            driver.getAttribute.calledWithExactly('displayed', 'el1').should.be['true'];

          case 5:
          case 'end':
            return context$3$0.stop();
        }
      }, null, this);
    });
  });
  describe('elementEnabled', function () {
    it('should return true if element enabled', function callee$2$0() {
      return _regeneratorRuntime.async(function callee$2$0$(context$3$0) {
        while (1) switch (context$3$0.prev = context$3$0.next) {
          case 0:
            sandbox.stub(driver, 'getAttribute');
            driver.getAttribute.returns('true');
            context$3$0.next = 4;
            return _regeneratorRuntime.awrap(driver.elementEnabled('el1').should.become(true));

          case 4:
            driver.getAttribute.calledWithExactly('enabled', 'el1').should.be['true'];

          case 5:
          case 'end':
            return context$3$0.stop();
        }
      }, null, this);
    });
    it('should return false if element not enabled', function callee$2$0() {
      return _regeneratorRuntime.async(function callee$2$0$(context$3$0) {
        while (1) switch (context$3$0.prev = context$3$0.next) {
          case 0:
            sandbox.stub(driver, 'getAttribute');
            driver.getAttribute.returns('false');
            context$3$0.next = 4;
            return _regeneratorRuntime.awrap(driver.elementEnabled('el1').should.become(false));

          case 4:
            driver.getAttribute.calledWithExactly('enabled', 'el1').should.be['true'];

          case 5:
          case 'end':
            return context$3$0.stop();
        }
      }, null, this);
    });
  });
  describe('elementSelected', function () {
    it('should return true if element selected', function callee$2$0() {
      return _regeneratorRuntime.async(function callee$2$0$(context$3$0) {
        while (1) switch (context$3$0.prev = context$3$0.next) {
          case 0:
            sandbox.stub(driver, 'getAttribute');
            driver.getAttribute.returns('true');
            context$3$0.next = 4;
            return _regeneratorRuntime.awrap(driver.elementSelected('el1').should.become(true));

          case 4:
            driver.getAttribute.calledWithExactly('selected', 'el1').should.be['true'];

          case 5:
          case 'end':
            return context$3$0.stop();
        }
      }, null, this);
    });
    it('should return false if element not selected', function callee$2$0() {
      return _regeneratorRuntime.async(function callee$2$0$(context$3$0) {
        while (1) switch (context$3$0.prev = context$3$0.next) {
          case 0:
            sandbox.stub(driver, 'getAttribute');
            driver.getAttribute.returns('false');
            context$3$0.next = 4;
            return _regeneratorRuntime.awrap(driver.elementSelected('el1').should.become(false));

          case 4:
            driver.getAttribute.calledWithExactly('selected', 'el1').should.be['true'];

          case 5:
          case 'end':
            return context$3$0.stop();
        }
      }, null, this);
    });
  });
  describe('setElementValue', function () {
    var params = { elementId: 'el0', text: 'text to set', replace: true,
      unicodeKeyboard: true };
    it('should call doSetElementValue', function callee$2$0() {
      return _regeneratorRuntime.async(function callee$2$0$(context$3$0) {
        while (1) switch (context$3$0.prev = context$3$0.next) {
          case 0:
            sandbox.stub(driver, 'doSetElementValue');
            context$3$0.next = 3;
            return _regeneratorRuntime.awrap(driver.setElementValue('text to set', 'el0', true));

          case 3:
            driver.doSetElementValue.calledWithExactly(params).should.be['true'];

          case 4:
          case 'end':
            return context$3$0.stop();
        }
      }, null, this);
    });
    it('should join keys parameter if keys is instance of Array', function callee$2$0() {
      return _regeneratorRuntime.async(function callee$2$0$(context$3$0) {
        while (1) switch (context$3$0.prev = context$3$0.next) {
          case 0:
            sandbox.stub(driver, 'doSetElementValue');
            context$3$0.next = 3;
            return _regeneratorRuntime.awrap(driver.setElementValue(['t', 'ext', ' to ', 'se', 't'], 'el0', true));

          case 3:
            driver.doSetElementValue.calledWithExactly(params).should.be['true'];

          case 4:
          case 'end':
            return context$3$0.stop();
        }
      }, null, this);
    });
    it('should set replace to false by default', function callee$2$0() {
      return _regeneratorRuntime.async(function callee$2$0$(context$3$0) {
        while (1) switch (context$3$0.prev = context$3$0.next) {
          case 0:
            params.replace = false;
            sandbox.stub(driver, 'doSetElementValue');
            context$3$0.next = 4;
            return _regeneratorRuntime.awrap(driver.setElementValue(['t', 'ext', ' to ', 'se', 't'], 'el0'));

          case 4:
            driver.doSetElementValue.calledWithExactly(params).should.be['true'];

          case 5:
          case 'end':
            return context$3$0.stop();
        }
      }, null, this);
    });
  });
  describe('doSetElementValue', function () {
    it('should call setText to set element value', function callee$2$0() {
      return _regeneratorRuntime.async(function callee$2$0$(context$3$0) {
        while (1) switch (context$3$0.prev = context$3$0.next) {
          case 0:
            context$3$0.next = 2;
            return _regeneratorRuntime.awrap(driver.doSetElementValue('params'));

          case 2:
            driver.bootstrap.sendAction.calledWithExactly('element:setText', 'params').should.be['true'];

          case 3:
          case 'end':
            return context$3$0.stop();
        }
      }, null, this);
    });
  });
  describe('setValue', function () {
    it('should call setElementValue to set value', function callee$2$0() {
      return _regeneratorRuntime.async(function callee$2$0$(context$3$0) {
        while (1) switch (context$3$0.prev = context$3$0.next) {
          case 0:
            sandbox.stub(driver, 'setElementValue');
            context$3$0.next = 3;
            return _regeneratorRuntime.awrap(driver.setValue('keys', 'el1'));

          case 3:
            driver.setElementValue.calledWithExactly('keys', 'el1', false).should.be['true'];

          case 4:
          case 'end':
            return context$3$0.stop();
        }
      }, null, this);
    });
  });
  describe('replaceValue', function () {
    it('should call setElementValue to replace value', function callee$2$0() {
      return _regeneratorRuntime.async(function callee$2$0$(context$3$0) {
        while (1) switch (context$3$0.prev = context$3$0.next) {
          case 0:
            sandbox.stub(driver, 'setElementValue');
            context$3$0.next = 3;
            return _regeneratorRuntime.awrap(driver.replaceValue('keys', 'el1'));

          case 3:
            driver.setElementValue.calledWithExactly('keys', 'el1', true).should.be['true'];

          case 4:
          case 'end':
            return context$3$0.stop();
        }
      }, null, this);
    });
  });
  describe('setValueImmediate', function () {
    it('should set value via adb inputText command', function callee$2$0() {
      return _regeneratorRuntime.async(function callee$2$0$(context$3$0) {
        while (1) switch (context$3$0.prev = context$3$0.next) {
          case 0:
            sandbox.stub(driver, 'click');
            sandbox.stub(driver.adb, 'inputText');
            context$3$0.next = 4;
            return _regeneratorRuntime.awrap(driver.setValueImmediate('keys', 'el1'));

          case 4:
            driver.click.calledWithExactly('el1').should.be['true'];
            driver.adb.inputText.calledWithExactly('keys').should.be['true'];

          case 6:
          case 'end':
            return context$3$0.stop();
        }
      }, null, this);
    });
    it('should join keys parameter if keys is instance of Array', function callee$2$0() {
      return _regeneratorRuntime.async(function callee$2$0$(context$3$0) {
        while (1) switch (context$3$0.prev = context$3$0.next) {
          case 0:
            sandbox.stub(driver, 'click');
            sandbox.stub(driver.adb, 'inputText');
            context$3$0.next = 4;
            return _regeneratorRuntime.awrap(driver.setValueImmediate(['k', 'ey', 's'], 'el1'));

          case 4:
            driver.adb.inputText.calledWithExactly('keys').should.be['true'];

          case 5:
          case 'end':
            return context$3$0.stop();
        }
      }, null, this);
    });
  });
  describe('getText', function () {
    it('should get element text', function callee$2$0() {
      return _regeneratorRuntime.async(function callee$2$0$(context$3$0) {
        while (1) switch (context$3$0.prev = context$3$0.next) {
          case 0:
            driver.bootstrap.sendAction.withArgs('element:getText').returns('el_text');
            context$3$0.next = 3;
            return _regeneratorRuntime.awrap(driver.getText('el1').should.become('el_text'));

          case 3:
            driver.bootstrap.sendAction.calledWithExactly('element:getText', { elementId: 'el1' }).should.be['true'];

          case 4:
          case 'end':
            return context$3$0.stop();
        }
      }, null, this);
    });
  });
  describe('clear', function () {
    it('should clear text of an element', function callee$2$0() {
      return _regeneratorRuntime.async(function callee$2$0$(context$3$0) {
        while (1) switch (context$3$0.prev = context$3$0.next) {
          case 0:
            sandbox.stub(driver, 'getText');
            sandbox.stub(driver, 'click');
            sandbox.stub(driver.adb, 'clearTextField');
            driver.getText.withArgs('el1').returns('#'.repeat(110));
            context$3$0.next = 6;
            return _regeneratorRuntime.awrap(driver.clear('el1'));

          case 6:
            driver.getText.calledWithExactly('el1').should.be['true'];
            driver.click.calledWithExactly('el1').should.be['true'];
            driver.adb.clearTextField.getCall(0).args[0].should.be.equal(50);
            driver.adb.clearTextField.getCall(1).args[0].should.be.equal(50);
            driver.adb.clearTextField.getCall(2).args[0].should.be.equal(10);

          case 11:
          case 'end':
            return context$3$0.stop();
        }
      }, null, this);
    });
    it('should do five retries and then fail if clearTextField throws error', function callee$2$0() {
      return _regeneratorRuntime.async(function callee$2$0$(context$3$0) {
        while (1) switch (context$3$0.prev = context$3$0.next) {
          case 0:
            this.timeout(10000);

            sandbox.stub(driver, 'getText');
            sandbox.stub(driver, 'click');
            sandbox.stub(driver.adb, 'clearTextField');
            driver.adb.clearTextField.throws();
            driver.getText.withArgs('el1').returns('#'.repeat(1));
            context$3$0.next = 8;
            return _regeneratorRuntime.awrap(driver.clear('el1').should.be.rejected);

          case 8:
            driver.adb.clearTextField.alwaysCalledWith(1).should.be['true'];
            driver.adb.clearTextField.callCount.should.be.equal(5);

          case 10:
          case 'end':
            return context$3$0.stop();
        }
      }, null, this);
    });
    it('it should assume that the text have 100 chars if getText returns empty string', function callee$2$0() {
      return _regeneratorRuntime.async(function callee$2$0$(context$3$0) {
        while (1) switch (context$3$0.prev = context$3$0.next) {
          case 0:
            sandbox.stub(driver, 'getText');
            sandbox.stub(driver, 'click');
            sandbox.stub(driver.adb, 'clearTextField');
            driver.getText.withArgs('el1').returns('');
            context$3$0.next = 6;
            return _regeneratorRuntime.awrap(driver.clear('el1'));

          case 6:
            driver.adb.clearTextField.getCall(0).args[0].should.be.equal(50);
            driver.adb.clearTextField.getCall(1).args[0].should.be.equal(50);

          case 8:
          case 'end':
            return context$3$0.stop();
        }
      }, null, this);
    });
  });
  describe('click', function () {
    it('should click an element', function callee$2$0() {
      return _regeneratorRuntime.async(function callee$2$0$(context$3$0) {
        while (1) switch (context$3$0.prev = context$3$0.next) {
          case 0:
            context$3$0.next = 2;
            return _regeneratorRuntime.awrap(driver.click('el1'));

          case 2:
            driver.bootstrap.sendAction.calledWithExactly('element:click', { elementId: 'el1' }).should.be['true'];

          case 3:
          case 'end':
            return context$3$0.stop();
        }
      }, null, this);
    });
  });
  describe('getLocation', function () {
    it('should get location of an element', function callee$2$0() {
      return _regeneratorRuntime.async(function callee$2$0$(context$3$0) {
        while (1) switch (context$3$0.prev = context$3$0.next) {
          case 0:
            driver.bootstrap.sendAction.withArgs('element:getLocation').returns('loc_info');
            context$3$0.next = 3;
            return _regeneratorRuntime.awrap(driver.getLocation('el1').should.become('loc_info'));

          case 3:
            driver.bootstrap.sendAction.calledWithExactly('element:getLocation', { elementId: 'el1' }).should.be['true'];

          case 4:
          case 'end':
            return context$3$0.stop();
        }
      }, null, this);
    });
  });
  describe('getLocationInView', function () {
    it('should get location of an element', function callee$2$0() {
      return _regeneratorRuntime.async(function callee$2$0$(context$3$0) {
        while (1) switch (context$3$0.prev = context$3$0.next) {
          case 0:
            sandbox.stub(driver, 'getLocation');
            driver.getLocation.returns('loc_info');
            context$3$0.next = 4;
            return _regeneratorRuntime.awrap(driver.getLocationInView('el1').should.become('loc_info'));

          case 4:
            driver.getLocation.calledWithExactly('el1').should.be['true'];

          case 5:
          case 'end':
            return context$3$0.stop();
        }
      }, null, this);
    });
  });
  describe('getSize', function () {
    it('should get size of an element', function callee$2$0() {
      return _regeneratorRuntime.async(function callee$2$0$(context$3$0) {
        while (1) switch (context$3$0.prev = context$3$0.next) {
          case 0:
            driver.bootstrap.sendAction.withArgs('element:getSize').returns('size_info');
            context$3$0.next = 3;
            return _regeneratorRuntime.awrap(driver.getSize('el1').should.become('size_info'));

          case 3:
            driver.bootstrap.sendAction.calledWithExactly('element:getSize', { elementId: 'el1' }).should.be['true'];

          case 4:
          case 'end':
            return context$3$0.stop();
        }
      }, null, this);
    });
  });
  describe('getElementRect', function () {
    it('should get rect of an element', function callee$2$0() {
      return _regeneratorRuntime.async(function callee$2$0$(context$3$0) {
        while (1) switch (context$3$0.prev = context$3$0.next) {
          case 0:
            driver.bootstrap.sendAction.withArgs('element:getRect').returns('rect_info');
            context$3$0.next = 3;
            return _regeneratorRuntime.awrap(driver.getElementRect('el1').should.become('rect_info'));

          case 3:
            driver.bootstrap.sendAction.calledWithExactly('element:getRect', { elementId: 'el1' }).should.be['true'];

          case 4:
          case 'end':
            return context$3$0.stop();
        }
      }, null, this);
    });
  });
  describe('touchLongClick', function () {
    it('should do touch long click on element', function callee$2$0() {
      var params;
      return _regeneratorRuntime.async(function callee$2$0$(context$3$0) {
        while (1) switch (context$3$0.prev = context$3$0.next) {
          case 0:
            params = { elementId: 'el1', x: 12, y: 34, duration: 5 };
            context$3$0.next = 3;
            return _regeneratorRuntime.awrap(driver.touchLongClick('el1', 12, 34, 5));

          case 3:
            _libAndroidHelpers2['default'].removeNullProperties.calledWithExactly(params).should.be['true'];
            driver.bootstrap.sendAction.calledWithExactly('element:touchLongClick', params).should.be['true'];

          case 5:
          case 'end':
            return context$3$0.stop();
        }
      }, null, this);
    });
  });
  describe('touchDown', function () {
    it('should do touch down on element', function callee$2$0() {
      var params;
      return _regeneratorRuntime.async(function callee$2$0$(context$3$0) {
        while (1) switch (context$3$0.prev = context$3$0.next) {
          case 0:
            params = { elementId: 'el1', x: 12, y: 34 };
            context$3$0.next = 3;
            return _regeneratorRuntime.awrap(driver.touchDown('el1', 12, 34));

          case 3:
            _libAndroidHelpers2['default'].removeNullProperties.calledWithExactly(params).should.be['true'];
            driver.bootstrap.sendAction.calledWithExactly('element:touchDown', params).should.be['true'];

          case 5:
          case 'end':
            return context$3$0.stop();
        }
      }, null, this);
    });
  });
  describe('touchUp', function () {
    it('should do touch up on element', function callee$2$0() {
      var params;
      return _regeneratorRuntime.async(function callee$2$0$(context$3$0) {
        while (1) switch (context$3$0.prev = context$3$0.next) {
          case 0:
            params = { elementId: 'el1', x: 12, y: 34 };
            context$3$0.next = 3;
            return _regeneratorRuntime.awrap(driver.touchUp('el1', 12, 34));

          case 3:
            _libAndroidHelpers2['default'].removeNullProperties.calledWithExactly(params).should.be['true'];
            driver.bootstrap.sendAction.calledWithExactly('element:touchUp', params).should.be['true'];

          case 5:
          case 'end':
            return context$3$0.stop();
        }
      }, null, this);
    });
  });
  describe('touchMove', function () {
    it('should get element attribute', function callee$2$0() {
      var params;
      return _regeneratorRuntime.async(function callee$2$0$(context$3$0) {
        while (1) switch (context$3$0.prev = context$3$0.next) {
          case 0:
            params = { elementId: 'el1', x: 12, y: 34 };
            context$3$0.next = 3;
            return _regeneratorRuntime.awrap(driver.touchMove('el1', 12, 34));

          case 3:
            _libAndroidHelpers2['default'].removeNullProperties.calledWithExactly(params).should.be['true'];
            driver.bootstrap.sendAction.calledWithExactly('element:touchMove', params).should.be['true'];

          case 5:
          case 'end':
            return context$3$0.stop();
        }
      }, null, this);
    });
  });
  describe('complexTap', function () {
    it('should tap an element', function callee$2$0() {
      return _regeneratorRuntime.async(function callee$2$0$(context$3$0) {
        while (1) switch (context$3$0.prev = context$3$0.next) {
          case 0:
            context$3$0.next = 2;
            return _regeneratorRuntime.awrap(driver.complexTap(null, null, null, 12, 34));

          case 2:
            driver.bootstrap.sendAction.calledWithExactly('click', { x: 12, y: 34 }).should.be['true'];

          case 3:
          case 'end':
            return context$3$0.stop();
        }
      }, null, this);
    });
  });
  describe('tap', function () {
    it('shoulde tap an element', function callee$2$0() {
      return _regeneratorRuntime.async(function callee$2$0$(context$3$0) {
        while (1) switch (context$3$0.prev = context$3$0.next) {
          case 0:
            context$3$0.next = 2;
            return _regeneratorRuntime.awrap(driver.tap('el1', 12, 34, 3));

          case 2:
            driver.bootstrap.sendAction.alwaysCalledWith('element:click', { elementId: 'el1', x: 12, y: 34 }).should.be['true'];
            driver.bootstrap.sendAction.calledThrice.should.be['true'];

          case 4:
          case 'end':
            return context$3$0.stop();
        }
      }, null, this);
    });
    it('should tap without an element', function callee$2$0() {
      return _regeneratorRuntime.async(function callee$2$0$(context$3$0) {
        while (1) switch (context$3$0.prev = context$3$0.next) {
          case 0:
            context$3$0.next = 2;
            return _regeneratorRuntime.awrap(driver.tap(null, 12, 34, 3));

          case 2:
            driver.bootstrap.sendAction.alwaysCalledWith('click', { x: 12, y: 34 }).should.be['true'];
            driver.bootstrap.sendAction.calledThrice.should.be['true'];

          case 4:
          case 'end':
            return context$3$0.stop();
        }
      }, null, this);
    });
    it('should perform single tap on element if x, y and count are not passed', function callee$2$0() {
      return _regeneratorRuntime.async(function callee$2$0$(context$3$0) {
        while (1) switch (context$3$0.prev = context$3$0.next) {
          case 0:
            context$3$0.next = 2;
            return _regeneratorRuntime.awrap(driver.tap('el1'));

          case 2:
            driver.bootstrap.sendAction.alwaysCalledWith('element:click').should.be['true'];
            driver.bootstrap.sendAction.calledOnce.should.be['true'];

          case 4:
          case 'end':
            return context$3$0.stop();
        }
      }, null, this);
    });
  });
});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInRlc3QvdW5pdC9jb21tYW5kcy9lbGVtZW50LXNwZWNzLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7OztvQkFBaUIsTUFBTTs7Ozs4QkFDSSxrQkFBa0I7Ozs7cUJBQzNCLE9BQU87Ozs7c0NBQ0gsMEJBQTBCOzs7O2dCQUN0QixVQUFVOzs7O3lCQUNwQixZQUFZOzs7O2lDQUNELDhCQUE4Qjs7OztBQUV6RCxJQUFJLE1BQU0sWUFBQSxDQUFDO0FBQ1gsSUFBSSxPQUFPLEdBQUcsbUJBQU0sYUFBYSxFQUFFLENBQUM7QUFDcEMsa0JBQUssTUFBTSxFQUFFLENBQUM7QUFDZCxrQkFBSyxHQUFHLDZCQUFnQixDQUFDOztBQUV6QixRQUFRLENBQUMsU0FBUyxFQUFFLFlBQVk7QUFDOUIsWUFBVSxDQUFDLFlBQVk7QUFDckIsVUFBTSxHQUFHLG1CQUFtQixDQUFDO0FBQzdCLFVBQU0sQ0FBQyxHQUFHLEdBQUcsNEJBQVMsQ0FBQztBQUN2QixVQUFNLENBQUMsU0FBUyxHQUFHLHlDQUFlLENBQUM7QUFDbkMsV0FBTyxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsU0FBUyxFQUFFLFlBQVksQ0FBQyxDQUFDO0FBQzdDLFdBQU8sQ0FBQyxJQUFJLGlDQUFpQixzQkFBc0IsQ0FBQyxDQUFDO0FBQ3JELFVBQU0sQ0FBQyxJQUFJLEdBQUcsRUFBQyxlQUFlLEVBQUUsSUFBSSxFQUFDLENBQUM7R0FDdkMsQ0FBQyxDQUFDO0FBQ0gsV0FBUyxDQUFDLFlBQVk7QUFDcEIsV0FBTyxDQUFDLE9BQU8sRUFBRSxDQUFDO0dBQ25CLENBQUMsQ0FBQztBQUNILFVBQVEsQ0FBQyxjQUFjLEVBQUUsWUFBWTtBQUNuQyxNQUFFLENBQUMsOEJBQThCLEVBQUU7Ozs7QUFDakMsa0JBQU0sQ0FBQyxTQUFTLENBQUMsVUFBVSxDQUFDLFFBQVEsQ0FBQyxzQkFBc0IsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxZQUFZLENBQUMsQ0FBQzs7NkNBQzdFLE1BQU0sQ0FBQyxZQUFZLENBQUMs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QUMsZ0JBQWdCLENBQUMsZUFBZSxDQUFDLENBQUMsTUFBTSxDQUFDLEVBQUUsUUFBSyxDQUFDO0FBQzdFLGtCQUFNLENBQUMsU0FBUyxDQUFDLFVBQVUsQ0FBQyxVQUFVLENBQUMsTUFBTSxDQUFDLEVBQUUsUUFBSyxDQUFDOzs7Ozs7O0tBQ3ZELENBQUMsQ0FBQztHQUNKLENBQUMsQ0FBQztDQUNKLENBQUMsQ0FBQyIsImZpbGUiOiJ0ZXN0L3VuaXQvY29tbWFuZHMvZWxlbWVudC1zcGVjcy5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBjaGFpIGZyb20gJ2NoYWknO1xuaW1wb3J0IGNoYWlBc1Byb21pc2VkIGZyb20gJ2NoYWktYXMtcHJvbWlzZWQnO1xuaW1wb3J0IHNpbm9uIGZyb20gJ3Npbm9uJztcbmltcG9ydCBCb290c3RyYXAgZnJvbSAnYXBwaXVtLWFuZHJvaWQtYm9vdHN0cmFwJztcbmltcG9ydCBBbmRyb2lkRHJpdmVyIGZyb20gJy4uLy4uLy4uJztcbmltcG9ydCBBREIgZnJvbSAnYXBwaXVtLWFkYic7XG5pbXBvcnQgYW5kcm9pZEhlbHBlcnMgZnJvbSAnLi4vLi4vLi4vbGliL2FuZHJvaWQtaGVscGVycyc7XG5cbmxldCBkcml2ZXI7XG5sZXQgc2FuZGJveCA9IHNpbm9uLmNyZWF0ZVNhbmRib3goKTtcbmNoYWkuc2hvdWxkKCk7XG5jaGFpLnVzZShjaGFpQXNQcm9taXNlZCk7XG5cbmRlc2NyaWJlKCdFbGVtZW50JywgZnVuY3Rpb24gKCkge1xuICBiZWZvcmVFYWNoKGZ1bmN0aW9uICgpIHtcbiAgICBkcml2ZXIgPSBuZXcgQW5kcm9pZERyaXZlcigpO1xuICAgIGRyaXZlci5hZGIgPSBuZXcgQURCKCk7XG4gICAgZHJpdmVyLmJvb3RzdHJhcCA9IG5ldyBCb290c3RyYXAoKTtcbiAgICBzYW5kYm94LnN0dWIoZHJpdmVyLmJvb3RzdHJhcCwgJ3NlbmRBY3Rpb24nKTtcbiAgICBzYW5kYm94LnN0dWIoYW5kcm9pZEhlbHBlcnMsICdyZW1vdmVOdWxsUHJvcGVydGllcycpO1xuICAgIGRyaXZlci5vcHRzID0ge3VuaWNvZGVLZXlib2FyZDogdHJ1ZX07XG4gIH0pO1xuICBhZnRlckVhY2goZnVuY3Rpb24gKCkge1xuICAgIHNhbmRib3gucmVzdG9yZSgpO1xuICB9KTtcbiAgZGVzY3JpYmUoJ2dldEF0dHJpYnV0ZScsIGZ1bmN0aW9uICgpIHtcbiAgICBpdCgnc2hvdWxkIGdldCBlbGVtZW50IGF0dHJpYnV0ZScsIGFzeW5jIGZ1bmN0aW9uICgpIHtcbiAgICAgIGRyaXZlci5ib290c3RyYXAuc2VuZEFjdGlvbi53aXRoQXJncygnZWxlbWVudDpnZXRBdHRyaWJ1dGUnKS5yZXR1cm5zKCdhdHRyX3ZhbHVlJyk7XG4gICAgICBhd2FpdCBkcml2ZXIuZ2V0QXR0cmlidXRlKCdhdHRyJywgJ2VsMScpLnNob3VsZC5iZWNvbWUoJ2F0dHJfdmFsdWUnKTtcbiAgICAgIGRyaXZlci5ib290c3RyYXAuc2VuZEFjdGlvblxuICAgICAgICAuY2FsbGVkV2l0aEV4YWN0bHkoJ2VsZW1lbnQ6Z2V0QXR0cmlidXRlJywge2F0dHJpYnV0ZTogJ2F0dHInLCBlbGVtZW50SWQ6ICdlbDEnfSlcbiAgICAgICAgLnNob3VsZC5iZS50cnVlO1xuICAgIH0pO1xuICB9KTtcbiAgZGVzY3JpYmUoJ2dldE5hbWUnLCBmdW5jdGlvbiAoKSB7XG4gICAgaXQoJ3Nob3VsZCBnZXQgZWxlbWVudCBuYW1lJywgYXN5bmMgZnVuY3Rpb24gKCkge1xuICAgICAgc2FuZGJveC5zdHViKGRyaXZlciwgJ2dldEF0dHJpYnV0ZScpO1xuICAgICAgZHJpdmVyLmdldEF0dHJpYnV0ZS5yZXR1cm5zKCdlbF9uYW1lJyk7XG4gICAgICBhd2FpdCBkcml2ZXIuZ2V0TmFtZSgnZWwxJykuc2hvdWxkLmJlY29tZSgnZWxfbmFtZScpO1xuICAgICAgZHJpdmVyLmdldEF0dHJpYnV0ZS5jYWxsZWRXaXRoRXhhY3RseSgnY2xhc3NOYW1lJywgJ2VsMScpLnNob3VsZC5iZS50cnVlO1xuICAgIH0pO1xuICB9KTtcbiAgZGVzY3JpYmUoJ2VsZW1lbnREaXNwbGF5ZWQnLCBmdW5jdGlvbiAoKSB7XG4gICAgaXQoJ3Nob3VsZCByZXR1cm4gdHJ1ZSBpZiBlbGVtZW50IGRpc3BsYXllZCcsIGFzeW5jIGZ1bmN0aW9uICgpIHtcbiAgICAgIHNhbmRib3guc3R1Yihkcml2ZXIsICdnZXRBdHRyaWJ1dGUnKTtcbiAgICAgIGRyaXZlci5nZXRBdHRyaWJ1dGUucmV0dXJucygndHJ1ZScpO1xuICAgICAgYXdhaXQgZHJpdmVyLmVsZW1lbnREaXNwbGF5ZWQoJ2VsMScpLnNob3VsZC5iZWNvbWUodHJ1ZSk7XG4gICAgICBkcml2ZXIuZ2V0QXR0cmlidXRlLmNhbGxlZFdpdGhFeGFjdGx5KCdkaXNwbGF5ZWQnLCAnZWwxJykuc2hvdWxkLmJlLnRydWU7XG4gICAgfSk7XG4gICAgaXQoJ3Nob3VsZCByZXR1cm4gZmFsc2UgaWYgZWxlbWVudCBub3QgZGlzcGxheWVkJywgYXN5bmMgZnVuY3Rpb24gKCkge1xuICAgICAgc2FuZGJveC5zdHViKGRyaXZlciwgJ2dldEF0dHJpYnV0ZScpO1xuICAgICAgZHJpdmVyLmdldEF0dHJpYnV0ZS5yZXR1cm5zKCdmYWxzZScpO1xuICAgICAgYXdhaXQgZHJpdmVyLmVsZW1lbnREaXNwbGF5ZWQoJ2VsMScpLnNob3VsZC5iZWNvbWUoZmFsc2UpO1xuICAgICAgZHJpdmVyLmdldEF0dHJpYnV0ZS5jYWxsZWRXaXRoRXhhY3RseSgnZGlzcGxheWVkJywgJ2VsMScpLnNob3VsZC5iZS50cnVlO1xuICAgIH0pO1xuICB9KTtcbiAgZGVzY3JpYmUoJ2VsZW1lbnRFbmFibGVkJywgZnVuY3Rpb24gKCkge1xuICAgIGl0KCdzaG91bGQgcmV0dXJuIHRydWUgaWYgZWxlbWVudCBlbmFibGVkJywgYXN5bmMgZnVuY3Rpb24gKCkge1xuICAgICAgc2FuZGJveC5zdHViKGRyaXZlciwgJ2dldEF0dHJpYnV0ZScpO1xuICAgICAgZHJpdmVyLmdldEF0dHJpYnV0ZS5yZXR1cm5zKCd0cnVlJyk7XG4gICAgICBhd2FpdCBkcml2ZXIuZWxlbWVudEVuYWJsZWQoJ2VsMScpLnNob3VsZC5iZWNvbWUodHJ1ZSk7XG4gICAgICBkcml2ZXIuZ2V0QXR0cmlidXRlLmNhbGxlZFdpdGhFeGFjdGx5KCdlbmFibGVkJywgJ2VsMScpLnNob3VsZC5iZS50cnVlO1xuICAgIH0pO1xuICAgIGl0KCdzaG91bGQgcmV0dXJuIGZhbHNlIGlmIGVsZW1lbnQgbm90IGVuYWJsZWQnLCBhc3luYyBmdW5jdGlvbiAoKSB7XG4gICAgICBzYW5kYm94LnN0dWIoZHJpdmVyLCAnZ2V0QXR0cmlidXRlJyk7XG4gICAgICBkcml2ZXIuZ2V0QXR0cmlidXRlLnJldHVybnMoJ2ZhbHNlJyk7XG4gICAgICBhd2FpdCBkcml2ZXIuZWxlbWVudEVuYWJsZWQoJ2VsMScpLnNob3VsZC5iZWNvbWUoZmFsc2UpO1xuICAgICAgZHJpdmVyLmdldEF0dHJpYnV0ZS5jYWxsZWRXaXRoRXhhY3RseSgnZW5hYmxlZCcsICdlbDEnKS5zaG91bGQuYmUudHJ1ZTtcbiAgICB9KTtcbiAgfSk7XG4gIGRlc2NyaWJlKCdlbGVtZW50U2VsZWN0ZWQnLCBmdW5jdGlvbiAoKSB7XG4gICAgaXQoJ3Nob3VsZCByZXR1cm4gdHJ1ZSBpZiBlbGVtZW50IHNlbGVjdGVkJywgYXN5bmMgZnVuY3Rpb24gKCkge1xuICAgICAgc2FuZGJveC5zdHViKGRyaXZlciwgJ2dldEF0dHJpYnV0ZScpO1xuICAgICAgZHJpdmVyLmdldEF0dHJpYnV0ZS5yZXR1cm5zKCd0cnVlJyk7XG4gICAgICBhd2FpdCBkcml2ZXIuZWxlbWVudFNlbGVjdGVkKCdlbDEnKS5zaG91bGQuYmVjb21lKHRydWUpO1xuICAgICAgZHJpdmVyLmdldEF0dHJpYnV0ZS5jYWxsZWRXaXRoRXhhY3RseSgnc2VsZWN0ZWQnLCAnZWwxJykuc2hvdWxkLmJlLnRydWU7XG4gICAgfSk7XG4gICAgaXQoJ3Nob3VsZCByZXR1cm4gZmFsc2UgaWYgZWxlbWVudCBub3Qgc2VsZWN0ZWQnLCBhc3luYyBmdW5jdGlvbiAoKSB7XG4gICAgICBzYW5kYm94LnN0dWIoZHJpdmVyLCAnZ2V0QXR0cmlidXRlJyk7XG4gICAgICBkcml2ZXIuZ2V0QXR0cmlidXRlLnJldHVybnMoJ2ZhbHNlJyk7XG4gICAgICBhd2FpdCBkcml2ZXIuZWxlbWVudFNlbGVjdGVkKCdlbDEnKS5zaG91bGQuYmVjb21lKGZhbHNlKTtcbiAgICAgIGRyaXZlci5nZXRBdHRyaWJ1dGUuY2FsbGVkV2l0aEV4YWN0bHkoJ3NlbGVjdGVkJywgJ2VsMScpLnNob3VsZC5iZS50cnVlO1xuICAgIH0pO1xuICB9KTtcbiAgZGVzY3JpYmUoJ3NldEVsZW1lbnRWYWx1ZScsIGZ1bmN0aW9uICgpIHtcbiAgICBjb25zdCBwYXJhbXMgPSB7ZWxlbWVudElkOiAnZWwwJywgdGV4dDogJ3RleHQgdG8gc2V0JywgIHJlcGxhY2U6IHRydWUsXG4gICAgICAgICAgICAgICAgICB1bmljb2RlS2V5Ym9hcmQ6IHRydWV9O1xuICAgIGl0KCdzaG91bGQgY2FsbCBkb1NldEVsZW1lbnRWYWx1ZScsIGFzeW5jIGZ1bmN0aW9uICgpIHtcbiAgICAgIHNhbmRib3guc3R1Yihkcml2ZXIsICdkb1NldEVsZW1lbnRWYWx1ZScpO1xuICAgICAgYXdhaXQgZHJpdmVyLnNldEVsZW1lbnRWYWx1ZSgndGV4dCB0byBzZXQnLCAnZWwwJywgdHJ1ZSk7XG4gICAgICBkcml2ZXIuZG9TZXRFbGVtZW50VmFsdWUuY2FsbGVkV2l0aEV4YWN0bHkocGFyYW1zKS5zaG91bGQuYmUudHJ1ZTtcbiAgICB9KTtcbiAgICBpdCgnc2hvdWxkIGpvaW4ga2V5cyBwYXJhbWV0ZXIgaWYga2V5cyBpcyBpbnN0YW5jZSBvZiBBcnJheScsIGFzeW5jIGZ1bmN0aW9uICgpIHtcbiAgICAgIHNhbmRib3guc3R1Yihkcml2ZXIsICdkb1NldEVsZW1lbnRWYWx1ZScpO1xuICAgICAgYXdhaXQgZHJpdmVyLnNldEVsZW1lbnRWYWx1ZShbJ3QnLCAnZXh0JywgJyB0byAnLCAnc2UnLCAndCddLCAnZWwwJywgdHJ1ZSk7XG4gICAgICBkcml2ZXIuZG9TZXRFbGVtZW50VmFsdWUuY2FsbGVkV2l0aEV4YWN0bHkocGFyYW1zKS5zaG91bGQuYmUudHJ1ZTtcbiAgICB9KTtcbiAgICBpdCgnc2hvdWxkIHNldCByZXBsYWNlIHRvIGZhbHNlIGJ5IGRlZmF1bHQnLCBhc3luYyBmdW5jdGlvbiAoKSB7XG4gICAgICBwYXJhbXMucmVwbGFjZSA9IGZhbHNlO1xuICAgICAgc2FuZGJveC5zdHViKGRyaXZlciwgJ2RvU2V0RWxlbWVudFZhbHVlJyk7XG4gICAgICBhd2FpdCBkcml2ZXIuc2V0RWxlbWVudFZhbHVlKFsndCcsICdleHQnLCAnIHRvICcsICdzZScsICd0J10sICdlbDAnKTtcbiAgICAgIGRyaXZlci5kb1NldEVsZW1lbnRWYWx1ZS5jYWxsZWRXaXRoRXhhY3RseShwYXJhbXMpLnNob3VsZC5iZS50cnVlO1xuICAgIH0pO1xuICB9KTtcbiAgZGVzY3JpYmUoJ2RvU2V0RWxlbWVudFZhbHVlJywgZnVuY3Rpb24gKCkge1xuICAgIGl0KCdzaG91bGQgY2FsbCBzZXRUZXh0IHRvIHNldCBlbGVtZW50IHZhbHVlJywgYXN5bmMgZnVuY3Rpb24gKCkge1xuICAgICAgYXdhaXQgZHJpdmVyLmRvU2V0RWxlbWVudFZhbHVlKCdwYXJhbXMnKTtcbiAgICAgIGRyaXZlci5ib290c3RyYXAuc2VuZEFjdGlvbi5jYWxsZWRXaXRoRXhhY3RseSgnZWxlbWVudDpzZXRUZXh0JyxcbiAgICAgICAgJ3BhcmFtcycpLnNob3VsZC5iZS50cnVlO1xuICAgIH0pO1xuICB9KTtcbiAgZGVzY3JpYmUoJ3NldFZhbHVlJywgZnVuY3Rpb24gKCkge1xuICAgIGl0KCdzaG91bGQgY2FsbCBzZXRFbGVtZW50VmFsdWUgdG8gc2V0IHZhbHVlJywgYXN5bmMgZnVuY3Rpb24gKCkge1xuICAgICAgc2FuZGJveC5zdHViKGRyaXZlciwgJ3NldEVsZW1lbnRWYWx1ZScpO1xuICAgICAgYXdhaXQgZHJpdmVyLnNldFZhbHVlKCdrZXlzJywgJ2VsMScpO1xuICAgICAgZHJpdmVyLnNldEVsZW1lbnRWYWx1ZS5jYWxsZWRXaXRoRXhhY3RseSgna2V5cycsICdlbDEnLCBmYWxzZSkuc2hvdWxkLmJlLnRydWU7XG4gICAgfSk7XG4gIH0pO1xuICBkZXNjcmliZSgncmVwbGFjZVZhbHVlJywgZnVuY3Rpb24gKCkge1xuICAgIGl0KCdzaG91bGQgY2FsbCBzZXRFbGVtZW50VmFsdWUgdG8gcmVwbGFjZSB2YWx1ZScsIGFzeW5jIGZ1bmN0aW9uICgpIHtcbiAgICAgIHNhbmRib3guc3R1Yihkcml2ZXIsICdzZXRFbGVtZW50VmFsdWUnKTtcbiAgICAgIGF3YWl0IGRyaXZlci5yZXBsYWNlVmFsdWUoJ2tleXMnLCAnZWwxJyk7XG4gICAgICBkcml2ZXIuc2V0RWxlbWVudFZhbHVlLmNhbGxlZFdpdGhFeGFjdGx5KCdrZXlzJywgJ2VsMScsIHRydWUpLnNob3VsZC5iZS50cnVlO1xuICAgIH0pO1xuICB9KTtcbiAgZGVzY3JpYmUoJ3NldFZhbHVlSW1tZWRpYXRlJywgZnVuY3Rpb24gKCkge1xuICAgIGl0KCdzaG91bGQgc2V0IHZhbHVlIHZpYSBhZGIgaW5wdXRUZXh0IGNvbW1hbmQnLCBhc3luYyBmdW5jdGlvbiAoKSB7XG4gICAgICBzYW5kYm94LnN0dWIoZHJpdmVyLCAnY2xpY2snKTtcbiAgICAgIHNhbmRib3guc3R1Yihkcml2ZXIuYWRiLCAnaW5wdXRUZXh0Jyk7XG4gICAgICBhd2FpdCBkcml2ZXIuc2V0VmFsdWVJbW1lZGlhdGUoJ2tleXMnLCAnZWwxJyk7XG4gICAgICBkcml2ZXIuY2xpY2suY2FsbGVkV2l0aEV4YWN0bHkoJ2VsMScpLnNob3VsZC5iZS50cnVlO1xuICAgICAgZHJpdmVyLmFkYi5pbnB1dFRleHQuY2FsbGVkV2l0aEV4YWN0bHkoJ2tleXMnKS5zaG91bGQuYmUudHJ1ZTtcbiAgICB9KTtcbiAgICBpdCgnc2hvdWxkIGpvaW4ga2V5cyBwYXJhbWV0ZXIgaWYga2V5cyBpcyBpbnN0YW5jZSBvZiBBcnJheScsIGFzeW5jIGZ1bmN0aW9uICgpIHtcbiAgICAgIHNhbmRib3guc3R1Yihkcml2ZXIsICdjbGljaycpO1xuICAgICAgc2FuZGJveC5zdHViKGRyaXZlci5hZGIsICdpbnB1dFRleHQnKTtcbiAgICAgIGF3YWl0IGRyaXZlci5zZXRWYWx1ZUltbWVkaWF0ZShbJ2snLCAnZXknLCAncyddLCAnZWwxJyk7XG4gICAgICBkcml2ZXIuYWRiLmlucHV0VGV4dC5jYWxsZWRXaXRoRXhhY3RseSgna2V5cycpLnNob3VsZC5iZS50cnVlO1xuICAgIH0pO1xuICB9KTtcbiAgZGVzY3JpYmUoJ2dldFRleHQnLCBmdW5jdGlvbiAoKSB7XG4gICAgaXQoJ3Nob3VsZCBnZXQgZWxlbWVudCB0ZXh0JywgYXN5bmMgZnVuY3Rpb24gKCkge1xuICAgICAgZHJpdmVyLmJvb3RzdHJhcC5zZW5kQWN0aW9uLndpdGhBcmdzKCdlbGVtZW50OmdldFRleHQnKS5yZXR1cm5zKCdlbF90ZXh0Jyk7XG4gICAgICBhd2FpdCBkcml2ZXIuZ2V0VGV4dCgnZWwxJykuc2hvdWxkLmJlY29tZSgnZWxfdGV4dCcpO1xuICAgICAgZHJpdmVyLmJvb3RzdHJhcC5zZW5kQWN0aW9uXG4gICAgICAgIC5jYWxsZWRXaXRoRXhhY3RseSgnZWxlbWVudDpnZXRUZXh0Jywge2VsZW1lbnRJZDogJ2VsMSd9KVxuICAgICAgICAuc2hvdWxkLmJlLnRydWU7XG4gICAgfSk7XG4gIH0pO1xuICBkZXNjcmliZSgnY2xlYXInLCBmdW5jdGlvbiAoKSB7XG4gICAgaXQoJ3Nob3VsZCBjbGVhciB0ZXh0IG9mIGFuIGVsZW1lbnQnLCBhc3luYyBmdW5jdGlvbiAoKSB7XG4gICAgICBzYW5kYm94LnN0dWIoZHJpdmVyLCAnZ2V0VGV4dCcpO1xuICAgICAgc2FuZGJveC5zdHViKGRyaXZlciwgJ2NsaWNrJyk7XG4gICAgICBzYW5kYm94LnN0dWIoZHJpdmVyLmFkYiwgJ2NsZWFyVGV4dEZpZWxkJyk7XG4gICAgICBkcml2ZXIuZ2V0VGV4dC53aXRoQXJncygnZWwxJykucmV0dXJucygnIycucmVwZWF0KDExMCkpO1xuICAgICAgYXdhaXQgZHJpdmVyLmNsZWFyKCdlbDEnKTtcbiAgICAgIGRyaXZlci5nZXRUZXh0LmNhbGxlZFdpdGhFeGFjdGx5KCdlbDEnKS5zaG91bGQuYmUudHJ1ZTtcbiAgICAgIGRyaXZlci5jbGljay5jYWxsZWRXaXRoRXhhY3RseSgnZWwxJykuc2hvdWxkLmJlLnRydWU7XG4gICAgICBkcml2ZXIuYWRiLmNsZWFyVGV4dEZpZWxkLmdldENhbGwoMCkuYXJnc1swXS5zaG91bGQuYmUuZXF1YWwoNTApO1xuICAgICAgZHJpdmVyLmFkYi5jbGVhclRleHRGaWVsZC5nZXRDYWxsKDEpLmFyZ3NbMF0uc2hvdWxkLmJlLmVxdWFsKDUwKTtcbiAgICAgIGRyaXZlci5hZGIuY2xlYXJUZXh0RmllbGQuZ2V0Q2FsbCgyKS5hcmdzWzBdLnNob3VsZC5iZS5lcXVhbCgxMCk7XG4gICAgfSk7XG4gICAgaXQoJ3Nob3VsZCBkbyBmaXZlIHJldHJpZXMgYW5kIHRoZW4gZmFpbCBpZiBjbGVhclRleHRGaWVsZCB0aHJvd3MgZXJyb3InLCBhc3luYyBmdW5jdGlvbiAoKSB7XG4gICAgICB0aGlzLnRpbWVvdXQoMTAwMDApO1xuXG4gICAgICBzYW5kYm94LnN0dWIoZHJpdmVyLCAnZ2V0VGV4dCcpO1xuICAgICAgc2FuZGJveC5zdHViKGRyaXZlciwgJ2NsaWNrJyk7XG4gICAgICBzYW5kYm94LnN0dWIoZHJpdmVyLmFkYiwgJ2NsZWFyVGV4dEZpZWxkJyk7XG4gICAgICBkcml2ZXIuYWRiLmNsZWFyVGV4dEZpZWxkLnRocm93cygpO1xuICAgICAgZHJpdmVyLmdldFRleHQud2l0aEFyZ3MoJ2VsMScpLnJldHVybnMoJyMnLnJlcGVhdCgxKSk7XG4gICAgICBhd2FpdCBkcml2ZXIuY2xlYXIoJ2VsMScpLnNob3VsZC5iZS5yZWplY3RlZDtcbiAgICAgIGRyaXZlci5hZGIuY2xlYXJUZXh0RmllbGQuYWx3YXlzQ2FsbGVkV2l0aCgxKS5zaG91bGQuYmUudHJ1ZTtcbiAgICAgIGRyaXZlci5hZGIuY2xlYXJUZXh0RmllbGQuY2FsbENvdW50LnNob3VsZC5iZS5lcXVhbCg1KTtcbiAgICB9KTtcbiAgICBpdCgnaXQgc2hvdWxkIGFzc3VtZSB0aGF0IHRoZSB0ZXh0IGhhdmUgMTAwIGNoYXJzIGlmIGdldFRleHQgcmV0dXJucyBlbXB0eSBzdHJpbmcnLCBhc3luYyBmdW5jdGlvbiAoKSB7XG4gICAgICBzYW5kYm94LnN0dWIoZHJpdmVyLCAnZ2V0VGV4dCcpO1xuICAgICAgc2FuZGJveC5zdHViKGRyaXZlciwgJ2NsaWNrJyk7XG4gICAgICBzYW5kYm94LnN0dWIoZHJpdmVyLmFkYiwgJ2NsZWFyVGV4dEZpZWxkJyk7XG4gICAgICBkcml2ZXIuZ2V0VGV4dC53aXRoQXJncygnZWwxJykucmV0dXJucygnJyk7XG4gICAgICBhd2FpdCBkcml2ZXIuY2xlYXIoJ2VsMScpO1xuICAgICAgZHJpdmVyLmFkYi5jbGVhclRleHRGaWVsZC5nZXRDYWxsKDApLmFyZ3NbMF0uc2hvdWxkLmJlLmVxdWFsKDUwKTtcbiAgICAgIGRyaXZlci5hZGIuY2xlYXJUZXh0RmllbGQuZ2V0Q2FsbCgxKS5hcmdzWzBdLnNob3VsZC5iZS5lcXVhbCg1MCk7XG4gICAgfSk7XG4gIH0pO1xuICBkZXNjcmliZSgnY2xpY2snLCBmdW5jdGlvbiAoKSB7XG4gICAgaXQoJ3Nob3VsZCBjbGljayBhbiBlbGVtZW50JywgYXN5bmMgZnVuY3Rpb24gKCkge1xuICAgICAgYXdhaXQgZHJpdmVyLmNsaWNrKCdlbDEnKTtcbiAgICAgIGRyaXZlci5ib290c3RyYXAuc2VuZEFjdGlvbi5jYWxsZWRXaXRoRXhhY3RseSgnZWxlbWVudDpjbGljaycsIHtlbGVtZW50SWQ6ICdlbDEnfSlcbiAgICAgICAgLnNob3VsZC5iZS50cnVlO1xuICAgIH0pO1xuICB9KTtcbiAgZGVzY3JpYmUoJ2dldExvY2F0aW9uJywgZnVuY3Rpb24gKCkge1xuICAgIGl0KCdzaG91bGQgZ2V0IGxvY2F0aW9uIG9mIGFuIGVsZW1lbnQnLCBhc3luYyBmdW5jdGlvbiAoKSB7XG4gICAgICBkcml2ZXIuYm9vdHN0cmFwLnNlbmRBY3Rpb25cbiAgICAgICAgLndpdGhBcmdzKCdlbGVtZW50OmdldExvY2F0aW9uJykucmV0dXJucygnbG9jX2luZm8nKTtcbiAgICAgIGF3YWl0IGRyaXZlci5nZXRMb2NhdGlvbignZWwxJykuc2hvdWxkLmJlY29tZSgnbG9jX2luZm8nKTtcbiAgICAgIGRyaXZlci5ib290c3RyYXAuc2VuZEFjdGlvblxuICAgICAgICAuY2FsbGVkV2l0aEV4YWN0bHkoJ2VsZW1lbnQ6Z2V0TG9jYXRpb24nLCB7ZWxlbWVudElkOiAnZWwxJ30pXG4gICAgICAgIC5zaG91bGQuYmUudHJ1ZTtcbiAgICB9KTtcbiAgfSk7XG4gIGRlc2NyaWJlKCdnZXRMb2NhdGlvbkluVmlldycsIGZ1bmN0aW9uICgpIHtcbiAgICBpdCgnc2hvdWxkIGdldCBsb2NhdGlvbiBvZiBhbiBlbGVtZW50JywgYXN5bmMgZnVuY3Rpb24gKCkge1xuICAgICAgc2FuZGJveC5zdHViKGRyaXZlciwgJ2dldExvY2F0aW9uJyk7XG4gICAgICBkcml2ZXIuZ2V0TG9jYXRpb24ucmV0dXJucygnbG9jX2luZm8nKTtcbiAgICAgIGF3YWl0IGRyaXZlci5nZXRMb2NhdGlvbkluVmlldygnZWwxJykuc2hvdWxkLmJlY29tZSgnbG9jX2luZm8nKTtcbiAgICAgIGRyaXZlci5nZXRMb2NhdGlvbi5jYWxsZWRXaXRoRXhhY3RseSgnZWwxJykuc2hvdWxkLmJlLnRydWU7XG4gICAgfSk7XG4gIH0pO1xuICBkZXNjcmliZSgnZ2V0U2l6ZScsIGZ1bmN0aW9uICgpIHtcbiAgICBpdCgnc2hvdWxkIGdldCBzaXplIG9mIGFuIGVsZW1lbnQnLCBhc3luYyBmdW5jdGlvbiAoKSB7XG4gICAgICBkcml2ZXIuYm9vdHN0cmFwLnNlbmRBY3Rpb25cbiAgICAgICAgLndpdGhBcmdzKCdlbGVtZW50OmdldFNpemUnKS5yZXR1cm5zKCdzaXplX2luZm8nKTtcbiAgICAgIGF3YWl0IGRyaXZlci5nZXRTaXplKCdlbDEnKS5zaG91bGQuYmVjb21lKCdzaXplX2luZm8nKTtcbiAgICAgIGRyaXZlci5ib290c3RyYXAuc2VuZEFjdGlvblxuICAgICAgICAuY2FsbGVkV2l0aEV4YWN0bHkoJ2VsZW1lbnQ6Z2V0U2l6ZScsIHtlbGVtZW50SWQ6ICdlbDEnfSlcbiAgICAgICAgLnNob3VsZC5iZS50cnVlO1xuICAgIH0pO1xuICB9KTtcbiAgZGVzY3JpYmUoJ2dldEVsZW1lbnRSZWN0JywgZnVuY3Rpb24gKCkge1xuICAgIGl0KCdzaG91bGQgZ2V0IHJlY3Qgb2YgYW4gZWxlbWVudCcsIGFzeW5jIGZ1bmN0aW9uICgpIHtcbiAgICAgIGRyaXZlci5ib290c3RyYXAuc2VuZEFjdGlvblxuICAgICAgICAud2l0aEFyZ3MoJ2VsZW1lbnQ6Z2V0UmVjdCcpLnJldHVybnMoJ3JlY3RfaW5mbycpO1xuICAgICAgYXdhaXQgZHJpdmVyLmdldEVsZW1lbnRSZWN0KCdlbDEnKS5zaG91bGQuYmVjb21lKCdyZWN0X2luZm8nKTtcbiAgICAgIGRyaXZlci5ib290c3RyYXAuc2VuZEFjdGlvblxuICAgICAgICAuY2FsbGVkV2l0aEV4YWN0bHkoJ2VsZW1lbnQ6Z2V0UmVjdCcsIHtlbGVtZW50SWQ6ICdlbDEnfSlcbiAgICAgICAgLnNob3VsZC5iZS50cnVlO1xuICAgIH0pO1xuICB9KTtcbiAgZGVzY3JpYmUoJ3RvdWNoTG9uZ0NsaWNrJywgZnVuY3Rpb24gKCkge1xuICAgIGl0KCdzaG91bGQgZG8gdG91Y2ggbG9uZyBjbGljayBvbiBlbGVtZW50JywgYXN5bmMgZnVuY3Rpb24gKCkge1xuICAgICAgbGV0IHBhcmFtcyA9IHtlbGVtZW50SWQ6ICdlbDEnLCB4OiAxMiwgeTogMzQsIGR1cmF0aW9uOiA1fTtcbiAgICAgIGF3YWl0IGRyaXZlci50b3VjaExvbmdDbGljaygnZWwxJywgMTIsIDM0LCA1KTtcbiAgICAgIGFuZHJvaWRIZWxwZXJzLnJlbW92ZU51bGxQcm9wZXJ0aWVzLmNhbGxlZFdpdGhFeGFjdGx5KHBhcmFtcylcbiAgICAgICAgLnNob3VsZC5iZS50cnVlO1xuICAgICAgZHJpdmVyLmJvb3RzdHJhcC5zZW5kQWN0aW9uLmNhbGxlZFdpdGhFeGFjdGx5KCdlbGVtZW50OnRvdWNoTG9uZ0NsaWNrJywgcGFyYW1zKVxuICAgICAgICAuc2hvdWxkLmJlLnRydWU7XG4gICAgfSk7XG4gIH0pO1xuICBkZXNjcmliZSgndG91Y2hEb3duJywgZnVuY3Rpb24gKCkge1xuICAgIGl0KCdzaG91bGQgZG8gdG91Y2ggZG93biBvbiBlbGVtZW50JywgYXN5bmMgZnVuY3Rpb24gKCkge1xuICAgICAgbGV0IHBhcmFtcyA9IHtlbGVtZW50SWQ6ICdlbDEnLCB4OiAxMiwgeTogMzR9O1xuICAgICAgYXdhaXQgZHJpdmVyLnRvdWNoRG93bignZWwxJywgMTIsIDM0KTtcbiAgICAgIGFuZHJvaWRIZWxwZXJzLnJlbW92ZU51bGxQcm9wZXJ0aWVzLmNhbGxlZFdpdGhFeGFjdGx5KHBhcmFtcylcbiAgICAgICAgLnNob3VsZC5iZS50cnVlO1xuICAgICAgZHJpdmVyLmJvb3RzdHJhcC5zZW5kQWN0aW9uLmNhbGxlZFdpdGhFeGFjdGx5KCdlbGVtZW50OnRvdWNoRG93bicsIHBhcmFtcylcbiAgICAgICAgLnNob3VsZC5iZS50cnVlO1xuICAgIH0pO1xuICB9KTtcbiAgZGVzY3JpYmUoJ3RvdWNoVXAnLCBmdW5jdGlvbiAoKSB7XG4gICAgaXQoJ3Nob3VsZCBkbyB0b3VjaCB1cCBvbiBlbGVtZW50JywgYXN5bmMgZnVuY3Rpb24gKCkge1xuICAgICAgbGV0IHBhcmFtcyA9IHtlbGVtZW50SWQ6ICdlbDEnLCB4OiAxMiwgeTogMzR9O1xuICAgICAgYXdhaXQgZHJpdmVyLnRvdWNoVXAoJ2VsMScsIDEyLCAzNCk7XG4gICAgICBhbmRyb2lkSGVscGVycy5yZW1vdmVOdWxsUHJvcGVydGllcy5jYWxsZWRXaXRoRXhhY3RseShwYXJhbXMpXG4gICAgICAgIC5zaG91bGQuYmUudHJ1ZTtcbiAgICAgIGRyaXZlci5ib290c3RyYXAuc2VuZEFjdGlvbi5jYWxsZWRXaXRoRXhhY3RseSgnZWxlbWVudDp0b3VjaFVwJywgcGFyYW1zKVxuICAgICAgICAuc2hvdWxkLmJlLnRydWU7XG4gICAgfSk7XG4gIH0pO1xuICBkZXNjcmliZSgndG91Y2hNb3ZlJywgZnVuY3Rpb24gKCkge1xuICAgIGl0KCdzaG91bGQgZ2V0IGVsZW1lbnQgYXR0cmlidXRlJywgYXN5bmMgZnVuY3Rpb24gKCkge1xuICAgICAgbGV0IHBhcmFtcyA9IHtlbGVtZW50SWQ6ICdlbDEnLCB4OiAxMiwgeTogMzR9O1xuICAgICAgYXdhaXQgZHJpdmVyLnRvdWNoTW92ZSgnZWwxJywgMTIsIDM0KTtcbiAgICAgIGFuZHJvaWRIZWxwZXJzLnJlbW92ZU51bGxQcm9wZXJ0aWVzLmNhbGxlZFdpdGhFeGFjdGx5KHBhcmFtcylcbiAgICAgICAgLnNob3VsZC5iZS50cnVlO1xuICAgICAgZHJpdmVyLmJvb3RzdHJhcC5zZW5kQWN0aW9uLmNhbGxlZFdpdGhFeGFjdGx5KCdlbGVtZW50OnRvdWNoTW92ZScsIHBhcmFtcylcbiAgICAgICAgLnNob3VsZC5iZS50cnVlO1xuICAgIH0pO1xuICB9KTtcbiAgZGVzY3JpYmUoJ2NvbXBsZXhUYXAnLCBmdW5jdGlvbiAoKSB7XG4gICAgaXQoJ3Nob3VsZCB0YXAgYW4gZWxlbWVudCcsIGFzeW5jIGZ1bmN0aW9uICgpIHtcbiAgICAgIGF3YWl0IGRyaXZlci5jb21wbGV4VGFwKG51bGwsIG51bGwsIG51bGwsIDEyLCAzNCk7XG4gICAgICBkcml2ZXIuYm9vdHN0cmFwLnNlbmRBY3Rpb24uY2FsbGVkV2l0aEV4YWN0bHkoJ2NsaWNrJywge3g6IDEyLCB5OjM0fSlcbiAgICAgICAgLnNob3VsZC5iZS50cnVlO1xuICAgIH0pO1xuICB9KTtcbiAgZGVzY3JpYmUoJ3RhcCcsIGZ1bmN0aW9uICgpIHtcbiAgICBpdCgnc2hvdWxkZSB0YXAgYW4gZWxlbWVudCcsIGFzeW5jIGZ1bmN0aW9uICgpIHtcbiAgICAgIGF3YWl0IGRyaXZlci50YXAoJ2VsMScsIDEyLCAzNCwgMyk7XG4gICAgICBkcml2ZXIuYm9vdHN0cmFwLnNlbmRBY3Rpb24uYWx3YXlzQ2FsbGVkV2l0aCgnZWxlbWVudDpjbGljaycsXG4gICAgICAgIHtlbGVtZW50SWQ6ICdlbDEnLCB4OiAxMiwgeTogMzR9KS5zaG91bGQuYmUudHJ1ZTtcbiAgICAgIGRyaXZlci5ib290c3RyYXAuc2VuZEFjdGlvbi5jYWxsZWRUaHJpY2Uuc2hvdWxkLmJlLnRydWU7XG4gICAgfSk7XG4gICAgaXQoJ3Nob3VsZCB0YXAgd2l0aG91dCBhbiBlbGVtZW50JywgYXN5bmMgZnVuY3Rpb24gKCkge1xuICAgICAgYXdhaXQgZHJpdmVyLnRhcChudWxsLCAxMiwgMzQsIDMpO1xuICAgICAgZHJpdmVyLmJvb3RzdHJhcC5zZW5kQWN0aW9uLmFsd2F5c0NhbGxlZFdpdGgoJ2NsaWNrJywge3g6IDEyLCB5OiAzNH0pXG4gICAgICAgIC5zaG91bGQuYmUudHJ1ZTtcbiAgICAgIGRyaXZlci5ib290c3RyYXAuc2VuZEFjdGlvbi5jYWxsZWRUaHJpY2Uuc2hvdWxkLmJlLnRydWU7XG4gICAgfSk7XG4gICAgaXQoJ3Nob3VsZCBwZXJmb3JtIHNpbmdsZSB0YXAgb24gZWxlbWVudCBpZiB4LCB5IGFuZCBjb3VudCBhcmUgbm90IHBhc3NlZCcsIGFzeW5jIGZ1bmN0aW9uICgpIHtcbiAgICAgIGF3YWl0IGRyaXZlci50YXAoJ2VsMScpO1xuICAgICAgZHJpdmVyLmJvb3RzdHJhcC5zZW5kQWN0aW9uLmFsd2F5c0NhbGxlZFdpdGgoJ2VsZW1lbnQ6Y2xpY2snKS5zaG91bGQuYmUudHJ1ZTtcbiAgICAgIGRyaXZlci5ib290c3RyYXAuc2VuZEFjdGlvbi5jYWxsZWRPbmNlLnNob3VsZC5iZS50cnVlO1xuICAgIH0pO1xuICB9KTtcbn0pO1xuIl0sInNvdXJjZVJvb3QiOiIuLi8uLi8uLi8uLiJ9
