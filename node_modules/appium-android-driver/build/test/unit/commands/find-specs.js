'use strict';

var _regeneratorRuntime = require('babel-runtime/regenerator')['default'];

var _interopRequireDefault = require('babel-runtime/helpers/interop-require-default')['default'];

var _chai = require('chai');

var _chai2 = _interopRequireDefault(_chai);

var _chaiAsPromised = require('chai-as-promised');

var _chaiAsPromised2 = _interopRequireDefault(_chaiAsPromised);

var _sinon = require('sinon');

var _sinon2 = _interopRequireDefault(_sinon);

var _appiumAndroidBootstrap = require('appium-android-bootstrap');

var _appiumAndroidBootstrap2 = _interopRequireDefault(_appiumAndroidBootstrap);

var _ = require('../../..');

var _2 = _interopRequireDefault(_);

var _appiumBaseDriver = require('appium-base-driver');

var driver = undefined;
var sandbox = _sinon2['default'].createSandbox();
_chai2['default'].should();
_chai2['default'].use(_chaiAsPromised2['default']);

describe('Find', function () {
  beforeEach(function () {
    driver = new _2['default']();
    driver.bootstrap = new _appiumAndroidBootstrap2['default']();
    driver.implicitWaitMs = 0;
    sandbox.stub(driver, 'validateLocatorStrategy');
    sandbox.stub(driver.bootstrap, 'sendAction');
    sandbox.stub(driver, 'doFindElementOrEls');
  });
  afterEach(function () {
    sandbox.restore();
  });
  describe('doFindElementOrEls', function () {
    it('should send find action to bootstrap', function callee$2$0() {
      return _regeneratorRuntime.async(function callee$2$0$(context$3$0) {
        while (1) switch (context$3$0.prev = context$3$0.next) {
          case 0:
            driver.doFindElementOrEls.restore();
            context$3$0.next = 3;
            return _regeneratorRuntime.awrap(driver.doFindElementOrEls('params'));

          case 3:
            driver.bootstrap.sendAction.calledWithExactly('find', 'params').should.be['true'];

          case 4:
          case 'end':
            return context$3$0.stop();
        }
      }, null, this);
    });
  });
  describe('findElorEls', function () {
    it('should throw an error if there is no selector', function callee$2$0() {
      return _regeneratorRuntime.async(function callee$2$0$(context$3$0) {
        while (1) switch (context$3$0.prev = context$3$0.next) {
          case 0:
            context$3$0.next = 2;
            return _regeneratorRuntime.awrap(driver.findElOrEls('xpath', null, false, 'some context').should.be.rejectedWith(/provide a selector/));

          case 2:
          case 'end':
            return context$3$0.stop();
        }
      }, null, this);
    });
    it('should be able to find element', function callee$2$0() {
      var params;
      return _regeneratorRuntime.async(function callee$2$0$(context$3$0) {
        while (1) switch (context$3$0.prev = context$3$0.next) {
          case 0:
            params = { strategy: 'xpath', selector: '//*[1]', context: 'context', multiple: false };

            driver.doFindElementOrEls.returns('el1');
            context$3$0.next = 4;
            return _regeneratorRuntime.awrap(driver.findElOrEls('xpath', '//*[1]', false, 'context').should.become('el1'));

          case 4:
            driver.doFindElementOrEls.calledWithExactly(params).should.be['true'];

          case 5:
          case 'end':
            return context$3$0.stop();
        }
      }, null, this);
    });
    it('should be able to find elements', function callee$2$0() {
      var params;
      return _regeneratorRuntime.async(function callee$2$0$(context$3$0) {
        while (1) switch (context$3$0.prev = context$3$0.next) {
          case 0:
            params = { strategy: 'xpath', selector: '//*[1]', context: 'context', multiple: true };

            driver.doFindElementOrEls.returns(['el1', 'el2']);
            context$3$0.next = 4;
            return _regeneratorRuntime.awrap(driver.findElOrEls('xpath', '//*[1]', true, 'context').should.eventually.be.deep.equal(['el1', 'el2']));

          case 4:
            driver.doFindElementOrEls.calledWithExactly(params).should.be['true'];

          case 5:
          case 'end':
            return context$3$0.stop();
        }
      }, null, this);
    });
    it('should not throws NoSuchElementError when searching multiple if element does not exist', function callee$2$0() {
      return _regeneratorRuntime.async(function callee$2$0$(context$3$0) {
        while (1) switch (context$3$0.prev = context$3$0.next) {
          case 0:
            driver.doFindElementOrEls.returns(null);
            context$3$0.next = 3;
            return _regeneratorRuntime.awrap(driver.findElOrEls('xpaht', '//*[1]', true).should.eventually.be.deep.equal([]));

          case 3:
          case 'end':
            return context$3$0.stop();
        }
      }, null, this);
    });
    it('should throw NoSuchElementError if element does not exist', function callee$2$0() {
      return _regeneratorRuntime.async(function callee$2$0$(context$3$0) {
        while (1) switch (context$3$0.prev = context$3$0.next) {
          case 0:
            driver.doFindElementOrEls.throws(new _appiumBaseDriver.errors.NoSuchElementError());
            context$3$0.next = 3;
            return _regeneratorRuntime.awrap(driver.findElOrEls('xpath', '//*[1]', false).should.be.rejectedWith(_appiumBaseDriver.errors.NoSuchElementError));

          case 3:
          case 'end':
            return context$3$0.stop();
        }
      }, null, this);
    });
    it('should fails if locator strategy is not valid', function callee$2$0() {
      return _regeneratorRuntime.async(function callee$2$0$(context$3$0) {
        while (1) switch (context$3$0.prev = context$3$0.next) {
          case 0:
            driver.validateLocatorStrategy.throws();
            context$3$0.next = 3;
            return _regeneratorRuntime.awrap(driver.findElOrEls().should.be.rejected);

          case 3:
          case 'end':
            return context$3$0.stop();
        }
      }, null, this);
    });
    it('should fails if gets unexpected error', function callee$2$0() {
      return _regeneratorRuntime.async(function callee$2$0$(context$3$0) {
        while (1) switch (context$3$0.prev = context$3$0.next) {
          case 0:
            driver.doFindElementOrEls.throws(new Error('unexpected_error'));
            context$3$0.next = 3;
            return _regeneratorRuntime.awrap(driver.findElOrEls('x', 'loc').should.be.rejectedWith('unexpected_error'));

          case 3:
          case 'end':
            return context$3$0.stop();
        }
      }, null, this);
    });
  });
});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInRlc3QvdW5pdC9jb21tYW5kcy9maW5kLXNwZWNzLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7OztvQkFBaUIsTUFBTTs7Ozs4QkFDSSxrQkFBa0I7Ozs7cUJBQzNCLE9BQU87Ozs7c0NBQ0gsMEJBQTBCOzs7O2dCQUN0QixVQUFVOzs7O2dDQUNiLG9CQUFvQjs7QUFFM0MsSUFBSSxNQUFNLFlBQUEsQ0FBQztBQUNYLElBQUksT0FBTyxHQUFHLG1CQUFNLGFBQWEsRUFBRSxDQUFDO0FBQ3BDLGtCQUFLLE1BQU0sRUFBRSxDQUFDO0FBQ2Qsa0JBQUssR0FBRyw2QkFBZ0IsQ0FBQzs7QUFFekIsUUFBUSxDQUFDLE1BQU0sRUFBRSxZQUFZO0FBQzNCLFlBQVUsQ0FBQyxZQUFZO0FBQ3JCLFVBQU0sR0FBRyxtQkFBbUIsQ0FBQztBQUM3QixVQUFNLENBQUMsU0FBUyxHQUFHLHlDQUFlLENBQUM7QUFDbkMsVUFBTSxDQUFDLGNBQWMsR0FBRyxDQUFDLENBQUM7QUFDMUIsV0FBTyxDQUFDLElBQUksQ0FBQyxNQUFNLEVBQUUseUJBQXlCLENBQUMsQ0FBQztBQUNoRCxXQUFPLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxTQUFTLEVBQUUsWUFBWSxDQUFDLENBQUM7QUFDN0MsV0FBTyxDQUFDLElBQUksQ0FBQyxNQUFNLEVBQUUsb0JBQW9CLENBQUMsQ0FBQztHQUM1QyxDQUFDLENBQUM7QUFDSCxXQUFTLENBQUMsWUFBWTtBQUNwQixXQUFPLENBQUMsT0FBTyxFQUFFLENBQUM7R0FDbkIsQ0FBQyxDQUFDO0FBQ0gsVUFBUSxDQUFDLG9CQUFvQixFQUFFLFlBQVk7QUFDekMsTUFBRSxDQUFDLHNDQUFzQyxFQUFFOzs7O0FBQ3pDLGtCQUFNLENBQUMsa0JBQWtCLENBQUMsT0FBTyxFQUFFLENBQUM7OzZDQUM5QixNQUFNLENBQUMsa0JBQWtCLENBQUMsUUFBUSxDQUFDOzs7QUFDekMsa0JBQU0sQ0FBQyxTQUFTLENBQUMsVUFBVSxDQUFDLGlCQUFpQixD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LENBQUMsdUNBQXVDLEVBQUU7Ozs7QUFDMUMsa0JBQU0sQ0FBQyxrQkFBa0IsQ0FBQyxNQUFNLENBQUMsSUFBSSxLQUFLLENBQUMsa0JBQWtCLENBQUMsQ0FBQyxDQUFDOzs2Q0FDMUQsTUFBTSxDQUFDLFdBQVcsQ0FBQyxHQUFHLEVBQUUsS0FBSyxDQUFDLENBQUMsTUFBTSxDQUFDLEVBQUUsQ0FBQyxZQUFZLENBQUMsa0JBQWtCLENBQUM7Ozs7Ozs7S0FDaEYsQ0FBQyxDQUFDO0dBQ0osQ0FBQyxDQUFDO0NBQ0osQ0FBQyxDQUFDIiwiZmlsZSI6InRlc3QvdW5pdC9jb21tYW5kcy9maW5kLXNwZWNzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGNoYWkgZnJvbSAnY2hhaSc7XG5pbXBvcnQgY2hhaUFzUHJvbWlzZWQgZnJvbSAnY2hhaS1hcy1wcm9taXNlZCc7XG5pbXBvcnQgc2lub24gZnJvbSAnc2lub24nO1xuaW1wb3J0IEJvb3RzdHJhcCBmcm9tICdhcHBpdW0tYW5kcm9pZC1ib290c3RyYXAnO1xuaW1wb3J0IEFuZHJvaWREcml2ZXIgZnJvbSAnLi4vLi4vLi4nO1xuaW1wb3J0IHsgZXJyb3JzIH0gZnJvbSAnYXBwaXVtLWJhc2UtZHJpdmVyJztcblxubGV0IGRyaXZlcjtcbmxldCBzYW5kYm94ID0gc2lub24uY3JlYXRlU2FuZGJveCgpO1xuY2hhaS5zaG91bGQoKTtcbmNoYWkudXNlKGNoYWlBc1Byb21pc2VkKTtcblxuZGVzY3JpYmUoJ0ZpbmQnLCBmdW5jdGlvbiAoKSB7XG4gIGJlZm9yZUVhY2goZnVuY3Rpb24gKCkge1xuICAgIGRyaXZlciA9IG5ldyBBbmRyb2lkRHJpdmVyKCk7XG4gICAgZHJpdmVyLmJvb3RzdHJhcCA9IG5ldyBCb290c3RyYXAoKTtcbiAgICBkcml2ZXIuaW1wbGljaXRXYWl0TXMgPSAwO1xuICAgIHNhbmRib3guc3R1Yihkcml2ZXIsICd2YWxpZGF0ZUxvY2F0b3JTdHJhdGVneScpO1xuICAgIHNhbmRib3guc3R1Yihkcml2ZXIuYm9vdHN0cmFwLCAnc2VuZEFjdGlvbicpO1xuICAgIHNhbmRib3guc3R1Yihkcml2ZXIsICdkb0ZpbmRFbGVtZW50T3JFbHMnKTtcbiAgfSk7XG4gIGFmdGVyRWFjaChmdW5jdGlvbiAoKSB7XG4gICAgc2FuZGJveC5yZXN0b3JlKCk7XG4gIH0pO1xuICBkZXNjcmliZSgnZG9GaW5kRWxlbWVudE9yRWxzJywgZnVuY3Rpb24gKCkge1xuICAgIGl0KCdzaG91bGQgc2VuZCBmaW5kIGFjdGlvbiB0byBib290c3RyYXAnLCBhc3luYyBmdW5jdGlvbiAoKSB7XG4gICAgICBkcml2ZXIuZG9GaW5kRWxlbWVudE9yRWxzLnJlc3RvcmUoKTtcbiAgICAgIGF3YWl0IGRyaXZlci5kb0ZpbmRFbGVtZW50T3JFbHMoJ3BhcmFtcycpO1xuICAgICAgZHJpdmVyLmJvb3RzdHJhcC5zZW5kQWN0aW9uLmNhbGxlZFdpdGhFeGFjdGx5KCdmaW5kJywgJ3BhcmFtcycpLnNob3VsZC5iZS50cnVlO1xuICAgIH0pO1xuICB9KTtcbiAgZGVzY3JpYmUoJ2ZpbmRFbG9yRWxzJywgZnVuY3Rpb24gKCkge1xuICAgIGl0KCdzaG91bGQgdGhyb3cgYW4gZXJyb3IgaWYgdGhlcmUgaXMgbm8gc2VsZWN0b3InLCBhc3luYyBmdW5jdGlvbiAoKSB7XG4gICAgICBhd2FpdCBkcml2ZXIuZmluZEVsT3JFbHMoJ3hwYXRoJywgbnVsbCwgZmFsc2UsICdzb21lIGNvbnRleHQnKVxuICAgICAgICAuc2hvdWxkLmJlLnJlamVjdGVkV2l0aCgvcHJvdmlkZSBhIHNlbGVjdG9yLyk7XG4gICAgfSk7XG4gICAgaXQoJ3Nob3VsZCBiZSBhYmxlIHRvIGZpbmQgZWxlbWVudCcsIGFzeW5jIGZ1bmN0aW9uICgpIHtcbiAgICAgIGxldCBwYXJhbXMgPSB7c3RyYXRlZ3k6ICd4cGF0aCcsICBzZWxlY3RvcjogJy8vKlsxXScsIGNvbnRleHQ6ICdjb250ZXh0JywgbXVsdGlwbGU6IGZhbHNlfTtcbiAgICAgIGRyaXZlci5kb0ZpbmRFbGVtZW50T3JFbHMucmV0dXJucygnZWwxJyk7XG4gICAgICBhd2FpdCBkcml2ZXIuZmluZEVsT3JFbHMoJ3hwYXRoJywgJy8vKlsxXScsIGZhbHNlLCAnY29udGV4dCcpLnNob3VsZC5iZWNvbWUoJ2VsMScpO1xuICAgICAgZHJpdmVyLmRvRmluZEVsZW1lbnRPckVscy5jYWxsZWRXaXRoRXhhY3RseShwYXJhbXMpLnNob3VsZC5iZS50cnVlO1xuICAgIH0pO1xuICAgIGl0KCdzaG91bGQgYmUgYWJsZSB0byBmaW5kIGVsZW1lbnRzJywgYXN5bmMgZnVuY3Rpb24gKCkge1xuICAgICAgbGV0IHBhcmFtcyA9IHtzdHJhdGVneTogJ3hwYXRoJywgIHNlbGVjdG9yOiAnLy8qWzFdJywgY29udGV4dDogJ2NvbnRleHQnLCBtdWx0aXBsZTogdHJ1ZX07XG4gICAgICBkcml2ZXIuZG9GaW5kRWxlbWVudE9yRWxzLnJldHVybnMoWydlbDEnLCAnZWwyJ10pO1xuICAgICAgYXdhaXQgZHJpdmVyLmZpbmRFbE9yRWxzKCd4cGF0aCcsICcvLypbMV0nLCB0cnVlLCAnY29udGV4dCcpXG4gICAgICAgIC5zaG91bGQuZXZlbnR1YWxseS5iZS5kZWVwLmVxdWFsKFsnZWwxJywgJ2VsMiddKTtcbiAgICAgIGRyaXZlci5kb0ZpbmRFbGVtZW50T3JFbHMuY2FsbGVkV2l0aEV4YWN0bHkocGFyYW1zKS5zaG91bGQuYmUudHJ1ZTtcbiAgICB9KTtcbiAgICBpdCgnc2hvdWxkIG5vdCB0aHJvd3MgTm9TdWNoRWxlbWVudEVycm9yIHdoZW4gc2VhcmNoaW5nIG11bHRpcGxlIGlmIGVsZW1lbnQgZG9lcyBub3QgZXhpc3QnLCBhc3luYyBmdW5jdGlvbiAoKSB7XG4gICAgICBkcml2ZXIuZG9GaW5kRWxlbWVudE9yRWxzLnJldHVybnMobnVsbCk7XG4gICAgICBhd2FpdCBkcml2ZXIuZmluZEVsT3JFbHMoJ3hwYWh0JywgJy8vKlsxXScsIHRydWUpXG4gICAgICAgIC5zaG91bGQuZXZlbnR1YWxseS5iZS5kZWVwLmVxdWFsKFtdKTtcbiAgICB9KTtcbiAgICBpdCgnc2hvdWxkIHRocm93IE5vU3VjaEVsZW1lbnRFcnJvciBpZiBlbGVtZW50IGRvZXMgbm90IGV4aXN0JywgYXN5bmMgZnVuY3Rpb24gKCkge1xuICAgICAgZHJpdmVyLmRvRmluZEVsZW1lbnRPckVscy50aHJvd3MobmV3IGVycm9ycy5Ob1N1Y2hFbGVtZW50RXJyb3IoKSk7XG4gICAgICBhd2FpdCBkcml2ZXIuZmluZEVsT3JFbHMoJ3hwYXRoJywgJy8vKlsxXScsIGZhbHNlKVxuICAgICAgICAuc2hvdWxkLmJlLnJlamVjdGVkV2l0aChlcnJvcnMuTm9TdWNoRWxlbWVudEVycm9yKTtcbiAgICB9KTtcbiAgICBpdCgnc2hvdWxkIGZhaWxzIGlmIGxvY2F0b3Igc3RyYXRlZ3kgaXMgbm90IHZhbGlkJywgYXN5bmMgZnVuY3Rpb24gKCkge1xuICAgICAgZHJpdmVyLnZhbGlkYXRlTG9jYXRvclN0cmF0ZWd5LnRocm93cygpO1xuICAgICAgYXdhaXQgZHJpdmVyLmZpbmRFbE9yRWxzKCkuc2hvdWxkLmJlLnJlamVjdGVkO1xuICAgIH0pO1xuICAgIGl0KCdzaG91bGQgZmFpbHMgaWYgZ2V0cyB1bmV4cGVjdGVkIGVycm9yJywgYXN5bmMgZnVuY3Rpb24gKCkge1xuICAgICAgZHJpdmVyLmRvRmluZEVsZW1lbnRPckVscy50aHJvd3MobmV3IEVycm9yKCd1bmV4cGVjdGVkX2Vycm9yJykpO1xuICAgICAgYXdhaXQgZHJpdmVyLmZpbmRFbE9yRWxzKCd4JywgJ2xvYycpLnNob3VsZC5iZS5yZWplY3RlZFdpdGgoJ3VuZXhwZWN0ZWRfZXJyb3InKTtcbiAgICB9KTtcbiAgfSk7XG59KTtcbiJdLCJzb3VyY2VSb290IjoiLi4vLi4vLi4vLi4ifQ==
