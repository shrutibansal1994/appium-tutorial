'use strict';

var _regeneratorRuntime = require('babel-runtime/regenerator')['default'];

var _getIterator = require('babel-runtime/core-js/get-iterator')['default'];

var _interopRequireDefault = require('babel-runtime/helpers/interop-require-default')['default'];

var _interopRequireWildcard = require('babel-runtime/helpers/interop-require-wildcard')['default'];

var _chai = require('chai');

var _chai2 = _interopRequireDefault(_chai);

var _chaiAsPromised = require('chai-as-promised');

var _chaiAsPromised2 = _interopRequireDefault(_chaiAsPromised);

var _appiumTestSupport = require('appium-test-support');

var _sinon = require('sinon');

var _sinon2 = _interopRequireDefault(_sinon);

var _libUnlockHelpers = require('../../lib/unlock-helpers');

var _libUnlockHelpers2 = _interopRequireDefault(_libUnlockHelpers);

var _libDriver = require('../../lib/driver');

var _libDriver2 = _interopRequireDefault(_libDriver);

var _asyncbox = require('asyncbox');

var asyncbox = _interopRequireWildcard(_asyncbox);

var _appiumAdb = require('appium-adb');

var _appiumAdb2 = _interopRequireDefault(_appiumAdb);

var KEYCODE_NUMPAD_ENTER = "66";
var INPUT_KEYS_WAIT_TIME = 100;
var HIDE_KEYBOARD_WAIT_TIME = 100;
var UNLOCK_WAIT_TIME = 100;

_chai2['default'].should();
_chai2['default'].use(_chaiAsPromised2['default']);

describe('Unlock Helpers', function () {
  var adb = new _appiumAdb2['default']();
  var driver = new _libDriver2['default']();
  var sandbox = _sinon2['default'].createSandbox();
  var expect = _chai2['default'].expect;
  describe('isValidUnlockType', function () {
    it('should verify the unlock types', function callee$2$0() {
      return _regeneratorRuntime.async(function callee$2$0$(context$3$0) {
        while (1) switch (context$3$0.prev = context$3$0.next) {
          case 0:
            _libUnlockHelpers2['default'].isValidUnlockType('pin').should.equal(true);
            _libUnlockHelpers2['default'].isValidUnlockType('pattern').should.equal(true);
            _libUnlockHelpers2['default'].isValidUnlockType('password').should.equal(true);
            _libUnlockHelpers2['default'].isValidUnlockType('fingerprint').should.equal(true);
            _libUnlockHelpers2['default'].isValidUnlockType('telepathy').should.equal(false);

          case 5:
          case 'end':
            return context$3$0.stop();
        }
      }, null, this);
    });
  });
  describe('isValidKey', function () {
    it('should verify the unlock keys for each type', function callee$2$0() {
      return _regeneratorRuntime.async(function callee$2$0$(context$3$0) {
        while (1) switch (context$3$0.prev = context$3$0.next) {
          case 0:
            _libUnlockHelpers2['default'].isValidKey('pin').should.equal(false);
            _libUnlockHelpers2['default'].isValidKey('pin', ' ').should.equal(false);
            _libUnlockHelpers2['default'].isValidKey('pin', '1111').should.equal(true);
            _libUnlockHelpers2['default'].isValidKey('pin', '1abc').should.equal(false);
            _libUnlockHelpers2['default'].isValidKey('fingerprint').should.equal(false);
            _libUnlockHelpers2['default'].isValidKey('fingerprint', ' ').should.equal(false);
            _libUnlockHelpers2['default'].isValidKey('fingerprint', '1111').should.equal(true);
            _libUnlockHelpers2['default'].isValidKey('fingerprint', '1abc').should.equal(false);
            _libUnlockHelpers2['default'].isValidKey('pattern', '1').should.equal(false);
            _libUnlockHelpers2['default'].isValidKey('pattern', '1234').should.equal(true);
            _libUnlockHelpers2['default'].isValidKey('pattern', '123456789').should.equal(true);
            _libUnlockHelpers2['default'].isValidKey('pattern', '01234').should.equal(false);
            _libUnlockHelpers2['default'].isValidKey('pattern').should.equal(false);
            _libUnlockHelpers2['default'].isValidKey('pattern', ' ').should.equal(false);
            _libUnlockHelpers2['default'].isValidKey('pattern', '1abc').should.equal(false);
            _libUnlockHelpers2['default'].isValidKey('pattern', '1213').should.equal(false);
            _libUnlockHelpers2['default'].isValidKey('password', '121c3').should.equal(true);
            _libUnlockHelpers2['default'].isValidKey('password', 'appium').should.equal(true);
            _libUnlockHelpers2['default'].isValidKey('password', 'appium-android-driver').should.equal(true);
            _libUnlockHelpers2['default'].isValidKey('password', '@#$%&-+()*"\':;!?,_ ./~`|={}\\[]').should.equal(true);
            _libUnlockHelpers2['default'].isValidKey('password', '123').should.equal(false);
            _libUnlockHelpers2['default'].isValidKey('password').should.equal(false);
            _libUnlockHelpers2['default'].isValidKey('password', '   ').should.equal(false);

          case 23:
          case 'end':
            return context$3$0.stop();
        }
      }, null, this);
    });
    it('should throw error if unlock type is invalid', function callee$2$0() {
      return _regeneratorRuntime.async(function callee$2$0$(context$3$0) {
        while (1) switch (context$3$0.prev = context$3$0.next) {
          case 0:
            expect(function () {
              return _libUnlockHelpers2['default'].isValidKey('invalid_unlock_type', '1');
            }).to['throw']('Invalid unlock type');

          case 1:
          case 'end':
            return context$3$0.stop();
        }
      }, null, this);
    });
  });
  describe('dismissKeyguard', (0, _appiumTestSupport.withMocks)({ driver: driver, adb: adb, asyncbox: asyncbox, helpers: _libUnlockHelpers2['default'] }, function (mocks) {
    it('should hide keyboard if keyboard is snown', function callee$2$0() {
      return _regeneratorRuntime.async(function callee$2$0$(context$3$0) {
        while (1) switch (context$3$0.prev = context$3$0.next) {
          case 0:
            mocks.driver.expects('isKeyboardShown').returns(true);
            mocks.driver.expects('hideKeyboard').once();
            mocks.asyncbox.expects('sleep').withExactArgs(HIDE_KEYBOARD_WAIT_TIME).once();
            mocks.adb.expects('shell').once();
            mocks.adb.expects('back').once();
            mocks.adb.expects('getApiLevel').returns(20);
            mocks.helpers.expects('swipeUp').once();
            context$3$0.next = 9;
            return _regeneratorRuntime.awrap(_libUnlockHelpers2['default'].dismissKeyguard(driver, adb));

          case 9:
            mocks.driver.verify();
            mocks.asyncbox.verify();
            mocks.helpers.verify();

          case 12:
          case 'end':
            return context$3$0.stop();
        }
      }, null, this);
    });
    it('should dismiss notifications and dissmiss keyguard via swipping up', function callee$2$0() {
      return _regeneratorRuntime.async(function callee$2$0$(context$3$0) {
        while (1) switch (context$3$0.prev = context$3$0.next) {
          case 0:
            mocks.driver.expects('isKeyboardShown').returns(false);
            mocks.adb.expects('shell').withExactArgs(["service", "call", "notification", "1"]).once();
            mocks.adb.expects('back').once();
            mocks.adb.expects('getApiLevel').returns(21);
            mocks.helpers.expects('swipeUp').withExactArgs(driver).once();
            context$3$0.next = 7;
            return _regeneratorRuntime.awrap(_libUnlockHelpers2['default'].dismissKeyguard(driver, adb));

          case 7:
            mocks.driver.verify();
            mocks.adb.verify();
            mocks.helpers.verify();

          case 10:
          case 'end':
            return context$3$0.stop();
        }
      }, null, this);
    });
    it('should dissmiss keyguard via dismiss-keyguard shell command if API level > 21', function callee$2$0() {
      return _regeneratorRuntime.async(function callee$2$0$(context$3$0) {
        while (1) switch (context$3$0.prev = context$3$0.next) {
          case 0:
            mocks.driver.expects('isKeyboardShown').returns(false);
            mocks.adb.expects('shell').onCall(0).returns('');
            mocks.adb.expects('back').once();
            mocks.adb.expects('getApiLevel').returns(22);
            mocks.adb.expects('shell').withExactArgs(["wm", "dismiss-keyguard"]).once();
            mocks.helpers.expects('swipeUp').never();
            context$3$0.next = 8;
            return _regeneratorRuntime.awrap(_libUnlockHelpers2['default'].dismissKeyguard(driver, adb));

          case 8:
            mocks.driver.verify();
            mocks.adb.verify();
            mocks.helpers.verify();

          case 11:
          case 'end':
            return context$3$0.stop();
        }
      }, null, this);
    });
  }));
  describe('swipeUp', (0, _appiumTestSupport.withMocks)({ driver: driver, helpers: _libUnlockHelpers2['default'] }, function (mocks) {
    it('should perform swipe up touch action', function callee$2$0() {
      var windowSize, actions;
      return _regeneratorRuntime.async(function callee$2$0$(context$3$0) {
        while (1) switch (context$3$0.prev = context$3$0.next) {
          case 0:
            windowSize = { x: 475, y: 800 };
            actions = [{ action: 'press', options: { element: null, x: 237, y: 790 } }, { action: 'moveTo', options: { element: null, x: 237, y: 100 } }, { action: 'release' }];

            mocks.driver.expects('getWindowSize').returns(windowSize);
            mocks.driver.expects('performTouch').withExactArgs(actions).once;
            context$3$0.next = 6;
            return _regeneratorRuntime.awrap(_libUnlockHelpers2['default'].swipeUp(driver));

          case 6:
            mocks.driver.verify();

          case 7:
          case 'end':
            return context$3$0.stop();
        }
      }, null, this);
    });
  }));
  describe('encodePassword', function () {
    it('should verify the password with blank space is encoded', function callee$2$0() {
      return _regeneratorRuntime.async(function callee$2$0$(context$3$0) {
        while (1) switch (context$3$0.prev = context$3$0.next) {
          case 0:
            _libUnlockHelpers2['default'].encodePassword('a p p i u m').should.equal("a%sp%sp%si%su%sm");
            _libUnlockHelpers2['default'].encodePassword('   ').should.equal("%s%s%s");

          case 2:
          case 'end':
            return context$3$0.stop();
        }
      }, null, this);
    });
  });
  describe('stringKeyToArr', function () {
    it('should cast string keys to array', function callee$2$0() {
      return _regeneratorRuntime.async(function callee$2$0$(context$3$0) {
        while (1) switch (context$3$0.prev = context$3$0.next) {
          case 0:
            _libUnlockHelpers2['default'].stringKeyToArr('1234').should.eql(['1', '2', '3', '4']);
            _libUnlockHelpers2['default'].stringKeyToArr(' 1234 ').should.eql(['1', '2', '3', '4']);
            _libUnlockHelpers2['default'].stringKeyToArr('1 2 3 4').should.eql(['1', '2', '3', '4']);
            _libUnlockHelpers2['default'].stringKeyToArr('1  2  3  4').should.eql(['1', '2', '3', '4']);

          case 4:
          case 'end':
            return context$3$0.stop();
        }
      }, null, this);
    });
  });
  describe('fingerprintUnlock', (0, _appiumTestSupport.withMocks)({ adb: adb, asyncbox: asyncbox }, function (mocks) {
    it('should be able to unlock device via fingerprint if API level >= 23', function callee$2$0() {
      var caps;
      return _regeneratorRuntime.async(function callee$2$0$(context$3$0) {
        while (1) switch (context$3$0.prev = context$3$0.next) {
          case 0:
            caps = { unlockKey: '123' };

            mocks.adb.expects('getApiLevel').returns(23);
            mocks.adb.expects('fingerprint').withExactArgs(caps.unlockKey).once();
            mocks.asyncbox.expects('sleep').withExactArgs(UNLOCK_WAIT_TIME).once();
            context$3$0.next = 6;
            return _regeneratorRuntime.awrap(_libUnlockHelpers2['default'].fingerprintUnlock(adb, driver, caps).should.be.fulfilled);

          case 6:
            mocks.adb.verify();
            mocks.asyncbox.verify();

          case 8:
          case 'end':
            return context$3$0.stop();
        }
      }, null, this);
    });
    it('should throw error if API level < 23', function callee$2$0() {
      return _regeneratorRuntime.async(function callee$2$0$(context$3$0) {
        while (1) switch (context$3$0.prev = context$3$0.next) {
          case 0:
            mocks.adb.expects('getApiLevel').returns(22);
            mocks.adb.expects('fingerprint').never();
            mocks.asyncbox.expects('sleep').never();
            context$3$0.next = 5;
            return _regeneratorRuntime.awrap(_libUnlockHelpers2['default'].fingerprintUnlock(adb).should.eventually.be.rejectedWith('only works for Android 6+'));

          case 5:
            mocks.adb.verify();
            mocks.asyncbox.verify();

          case 7:
          case 'end':
            return context$3$0.stop();
        }
      }, null, this);
    });
  }));
  describe('pinUnlock', (0, _appiumTestSupport.withMocks)({ adb: adb, helpers: _libUnlockHelpers2['default'], driver: driver, asyncbox: asyncbox }, function (mocks) {
    var caps = { unlockKey: '13579' };
    var keys = ['1', '3', '5', '7', '9'];
    var els = [{ ELEMENT: 1 }, { ELEMENT: 2 }, { ELEMENT: 3 }, { ELEMENT: 4 }, { ELEMENT: 5 }, { ELEMENT: 6 }, { ELEMENT: 7 }, { ELEMENT: 8 }, { ELEMENT: 9 }];
    afterEach(function () {
      sandbox.restore();
    });
    it('should be able to unlock device using pin (API level >= 21)', function callee$2$0() {
      var _iteratorNormalCompletion, _didIteratorError, _iteratorError, _iterator, _step, e;

      return _regeneratorRuntime.async(function callee$2$0$(context$3$0) {
        while (1) switch (context$3$0.prev = context$3$0.next) {
          case 0:
            mocks.helpers.expects('dismissKeyguard').once();
            mocks.helpers.expects('stringKeyToArr').returns(keys);
            mocks.adb.expects('getApiLevel').returns(21);
            mocks.driver.expects('findElOrEls').withExactArgs("id", "com.android.systemui:id/digit_text", true).returns(els);
            mocks.driver.expects('findElOrEls').withExactArgs("id", "com.android.systemui:id/key_enter", false).returns({ ELEMENT: 100 });
            _iteratorNormalCompletion = true;
            _didIteratorError = false;
            _iteratorError = undefined;
            context$3$0.prev = 8;
            for (_iterator = _getIterator(els); !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {
              e = _step.value;

              mocks.driver.expects('getAttribute').withExactArgs('text', e.ELEMENT).returns(e.ELEMENT.toString());
            }
            context$3$0.next = 16;
            break;

          case 12:
            context$3$0.prev = 12;
            context$3$0.t0 = context$3$0['catch'](8);
            _didIteratorError = true;
            _iteratorError = context$3$0.t0;

          case 16:
            context$3$0.prev = 16;
            context$3$0.prev = 17;

            if (!_iteratorNormalCompletion && _iterator['return']) {
              _iterator['return']();
            }

          case 19:
            context$3$0.prev = 19;

            if (!_didIteratorError) {
              context$3$0.next = 22;
              break;
            }

            throw _iteratorError;

          case 22:
            return context$3$0.finish(19);

          case 23:
            return context$3$0.finish(16);

          case 24:
            mocks.asyncbox.expects('sleep').withExactArgs(UNLOCK_WAIT_TIME).once();
            sandbox.stub(driver, 'click');

            context$3$0.next = 28;
            return _regeneratorRuntime.awrap(_libUnlockHelpers2['default'].pinUnlock(adb, driver, caps));

          case 28:

            driver.click.getCall(0).args[0].should.equal(1);
            driver.click.getCall(1).args[0].should.equal(3);
            driver.click.getCall(2).args[0].should.equal(5);
            driver.click.getCall(3).args[0].should.equal(7);
            driver.click.getCall(4).args[0].should.equal(9);
            driver.click.getCall(5).args[0].should.equal(100);

            mocks.helpers.verify();
            mocks.driver.verify();
            mocks.adb.verify();
            mocks.asyncbox.verify();

          case 38:
          case 'end':
            return context$3$0.stop();
        }
      }, null, this, [[8, 12, 16, 24], [17,, 19, 23]]);
    });
    it('should be able to unlock device using pin (API level < 21)', function callee$2$0() {
      var _iteratorNormalCompletion2, _didIteratorError2, _iteratorError2, _iterator2, _step2, pin;

      return _regeneratorRuntime.async(function callee$2$0$(context$3$0) {
        while (1) switch (context$3$0.prev = context$3$0.next) {
          case 0:
            mocks.helpers.expects('dismissKeyguard').once();
            mocks.helpers.expects('stringKeyToArr').returns(keys);
            mocks.adb.expects('getApiLevel').returns(20);
            _iteratorNormalCompletion2 = true;
            _didIteratorError2 = false;
            _iteratorError2 = undefined;
            context$3$0.prev = 6;
            for (_iterator2 = _getIterator(keys); !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {
              pin = _step2.value;

              mocks.driver.expects('findElOrEls').withExactArgs("id", 'com.android.keyguard:id/key' + pin, false).returns({ ELEMENT: parseInt(pin, 10) });
            }
            context$3$0.next = 14;
            break;

          case 10:
            context$3$0.prev = 10;
            context$3$0.t0 = context$3$0['catch'](6);
            _didIteratorError2 = true;
            _iteratorError2 = context$3$0.t0;

          case 14:
            context$3$0.prev = 14;
            context$3$0.prev = 15;

            if (!_iteratorNormalCompletion2 && _iterator2['return']) {
              _iterator2['return']();
            }

          case 17:
            context$3$0.prev = 17;

            if (!_didIteratorError2) {
              context$3$0.next = 20;
              break;
            }

            throw _iteratorError2;

          case 20:
            return context$3$0.finish(17);

          case 21:
            return context$3$0.finish(14);

          case 22:
            mocks.driver.expects('findElOrEls').withExactArgs("id", "com.android.keyguard:id/key_enter", false).returns({ ELEMENT: 100 });
            mocks.asyncbox.expects('sleep').withExactArgs(UNLOCK_WAIT_TIME).once();
            sandbox.stub(driver, 'click');

            context$3$0.next = 27;
            return _regeneratorRuntime.awrap(_libUnlockHelpers2['default'].pinUnlock(adb, driver, caps));

          case 27:

            driver.click.getCall(0).args[0].should.equal(1);
            driver.click.getCall(1).args[0].should.equal(3);
            driver.click.getCall(2).args[0].should.equal(5);
            driver.click.getCall(3).args[0].should.equal(7);
            driver.click.getCall(4).args[0].should.equal(9);
            driver.click.getCall(5).args[0].should.equal(100);

            mocks.helpers.verify();
            mocks.driver.verify();
            mocks.adb.verify();
            mocks.asyncbox.verify();

          case 37:
          case 'end':
            return context$3$0.stop();
        }
      }, null, this, [[6, 10, 14, 22], [15,, 17, 21]]);
    });
    it('should throw error if pin buttons does not exist (API level >= 21)', function callee$2$0() {
      return _regeneratorRuntime.async(function callee$2$0$(context$3$0) {
        while (1) switch (context$3$0.prev = context$3$0.next) {
          case 0:
            mocks.helpers.expects('dismissKeyguard').once();
            mocks.helpers.expects('stringKeyToArr').once();
            mocks.adb.expects('getApiLevel').returns(21);
            mocks.driver.expects('findElOrEls').returns(null);
            context$3$0.next = 6;
            return _regeneratorRuntime.awrap(_libUnlockHelpers2['default'].pinUnlock(adb, driver, caps).should.eventually.be.rejectedWith('Error finding unlock pin buttons!'));

          case 6:
            mocks.helpers.verify();
            mocks.driver.verify();
            mocks.adb.verify();

          case 9:
          case 'end':
            return context$3$0.stop();
        }
      }, null, this);
    });
    it('should throw error if pin buttons does not exist (API level < 21)', function callee$2$0() {
      return _regeneratorRuntime.async(function callee$2$0$(context$3$0) {
        while (1) switch (context$3$0.prev = context$3$0.next) {
          case 0:
            mocks.helpers.expects('dismissKeyguard').once();
            mocks.helpers.expects('stringKeyToArr').returns(keys);
            mocks.adb.expects('getApiLevel').returns(20);
            mocks.driver.expects('findElOrEls').withExactArgs('id', 'com.android.keyguard:id/key1', false).returns(null);
            context$3$0.next = 6;
            return _regeneratorRuntime.awrap(_libUnlockHelpers2['default'].pinUnlock(adb, driver, caps).should.eventually.be.rejectedWith('Error finding unlock pin \'1\' button!'));

          case 6:
            mocks.helpers.verify();
            mocks.driver.verify();
            mocks.adb.verify();

          case 9:
          case 'end':
            return context$3$0.stop();
        }
      }, null, this);
    });
  }));
  describe('passwordUnlock', (0, _appiumTestSupport.withMocks)({ adb: adb, helpers: _libUnlockHelpers2['default'], asyncbox: asyncbox }, function (mocks) {
    it('should be able to unlock device using password', function callee$2$0() {
      var caps;
      return _regeneratorRuntime.async(function callee$2$0$(context$3$0) {
        while (1) switch (context$3$0.prev = context$3$0.next) {
          case 0:
            caps = { unlockKey: 'psswrd' };

            mocks.helpers.expects('dismissKeyguard').withExactArgs(driver, adb).once();
            mocks.helpers.expects('encodePassword').withExactArgs(caps.unlockKey).returns(caps.unlockKey);
            mocks.adb.expects('shell').withExactArgs(['input', 'text', caps.unlockKey]).once();
            mocks.asyncbox.expects('sleep').withExactArgs(INPUT_KEYS_WAIT_TIME).once();
            mocks.adb.expects('shell').withExactArgs(['input', 'keyevent', KEYCODE_NUMPAD_ENTER]);
            mocks.asyncbox.expects('sleep').withExactArgs(UNLOCK_WAIT_TIME).once();
            context$3$0.next = 9;
            return _regeneratorRuntime.awrap(_libUnlockHelpers2['default'].passwordUnlock(adb, driver, caps));

          case 9:
            mocks.helpers.verify();
            mocks.adb.verify();
            mocks.asyncbox.verify();

          case 12:
          case 'end':
            return context$3$0.stop();
        }
      }, null, this);
    });
  }));
  describe('getPatternKeyPosition', function () {
    it('should verify pattern pin is aproximatelly to its position', function callee$2$0() {
      var pins, cols, rows;
      return _regeneratorRuntime.async(function callee$2$0$(context$3$0) {
        while (1) switch (context$3$0.prev = context$3$0.next) {
          case 0:
            pins = [1, 2, 3, 4, 5, 6, 7, 8, 9].map(function (pin) {
              return _libUnlockHelpers2['default'].getPatternKeyPosition(pin, { x: 33, y: 323 }, 137.6);
            });
            cols = [101, 238, 375];
            rows = [391, 528, 665];

            expect(pins[0].x).to.be.within(cols[0] - 5, cols[0] + 5);
            expect(pins[1].x).to.be.within(cols[1] - 5, cols[1] + 5);
            expect(pins[2].x).to.be.within(cols[2] - 5, cols[2] + 5);
            expect(pins[3].x).to.be.within(cols[0] - 5, cols[0] + 5);
            expect(pins[4].x).to.be.within(cols[1] - 5, cols[1] + 5);
            expect(pins[5].x).to.be.within(cols[2] - 5, cols[2] + 5);
            expect(pins[6].x).to.be.within(cols[0] - 5, cols[0] + 5);
            expect(pins[7].x).to.be.within(cols[1] - 5, cols[1] + 5);
            expect(pins[8].x).to.be.within(cols[2] - 5, cols[2] + 5);
            expect(pins[0].y).to.be.within(rows[0] - 5, rows[0] + 5);
            expect(pins[1].y).to.be.within(rows[0] - 5, rows[0] + 5);
            expect(pins[2].y).to.be.within(rows[0] - 5, rows[0] + 5);
            expect(pins[3].y).to.be.within(rows[1] - 5, rows[1] + 5);
            expect(pins[4].y).to.be.within(rows[1] - 5, rows[1] + 5);
            expect(pins[5].y).to.be.within(rows[1] - 5, rows[1] + 5);
            expect(pins[6].y).to.be.within(rows[2] - 5, rows[2] + 5);
            expect(pins[7].y).to.be.within(rows[2] - 5, rows[2] + 5);
            expect(pins[8].y).to.be.within(rows[2] - 5, rows[2] + 5);

          case 21:
          case 'end':
            return context$3$0.stop();
        }
      }, null, this);
    });
  });
  describe('getPatternActions', function () {
    it('should generate press, moveTo, relase gesture scheme to unlock by pattern', function callee$2$0() {
      var keys, actions;
      return _regeneratorRuntime.async(function callee$2$0$(context$3$0) {
        while (1) switch (context$3$0.prev = context$3$0.next) {
          case 0:
            keys = ["1", "2", "3", "4", "5", "6", "7", "8", "9"];
            actions = _libUnlockHelpers2['default'].getPatternActions(keys, { x: 0, y: 0 }, 1);

            actions.map(function (action, i) {
              if (i === 0) {
                action.action.should.equal('press');
              } else if (i === keys.length) {
                action.action.should.equal('release');
              } else {
                action.action.should.equal('moveTo');
              }
            });

          case 3:
          case 'end':
            return context$3$0.stop();
        }
      }, null, this);
    });
    it('should verify pattern gestures moves to non consecutives pins', function callee$2$0() {
      var keys, actions;
      return _regeneratorRuntime.async(function callee$2$0$(context$3$0) {
        while (1) switch (context$3$0.prev = context$3$0.next) {
          case 0:
            keys = ["7", "2", "9", "8", "5", "6", "1", "4", "3"];
            actions = _libUnlockHelpers2['default'].getPatternActions(keys, { x: 0, y: 0 }, 1);

            // Move from pin 7 to pin 2
            actions[1].options.x.should.equal(1);
            actions[1].options.y.should.equal(-2);
            // Move from pin 2 to pin 9
            actions[2].options.x.should.equal(1);
            actions[2].options.y.should.equal(2);
            // Move from pin 9 to pin 8
            actions[3].options.x.should.equal(-1);
            actions[3].options.y.should.equal(0);
            // Move from pin 8 to pin 5
            actions[4].options.x.should.equal(0);
            actions[4].options.y.should.equal(-1);
            // Move from pin 5 to pin 6
            actions[5].options.x.should.equal(1);
            actions[5].options.y.should.equal(0);
            // Move from pin 6 to pin 1
            actions[6].options.x.should.equal(-2);
            actions[6].options.y.should.equal(-1);
            // Move from pin 1 to pin 4
            actions[7].options.x.should.equal(0);
            actions[7].options.y.should.equal(1);
            // Move from pin 4 to pin 3
            actions[8].options.x.should.equal(2);
            actions[8].options.y.should.equal(-1);

          case 18:
          case 'end':
            return context$3$0.stop();
        }
      }, null, this);
    });
  });
  describe('patternUnlock', (0, _appiumTestSupport.withMocks)({ driver: driver, helpers: _libUnlockHelpers2['default'], adb: adb, asyncbox: asyncbox }, function (mocks) {
    var el = { ELEMENT: 1 };
    var pos = { x: 10, y: 20 };
    var size = { width: 300 };
    var keys = ['1', '3', '5', '7', '9'];
    var caps = { unlockKey: '13579' };
    beforeEach(function () {
      mocks.helpers.expects('dismissKeyguard').withExactArgs(driver, adb).once();
      mocks.helpers.expects('stringKeyToArr').returns(keys);
      mocks.driver.expects('getLocation').withExactArgs(el.ELEMENT).returns(pos);
      mocks.driver.expects('getSize').withExactArgs(el.ELEMENT).returns(size);
      mocks.helpers.expects('getPatternActions').withExactArgs(keys, pos, 100).returns('actions');
      mocks.driver.expects('performTouch').withExactArgs('actions').once();
      mocks.asyncbox.expects('sleep').withExactArgs(UNLOCK_WAIT_TIME).once();
    });
    it('should be able to unlock device using pattern (API level >= 21)', function callee$2$0() {
      return _regeneratorRuntime.async(function callee$2$0$(context$3$0) {
        while (1) switch (context$3$0.prev = context$3$0.next) {
          case 0:
            mocks.adb.expects('getApiLevel').returns(21);
            mocks.driver.expects('findElOrEls').withExactArgs('id', 'com.android.systemui:id/lockPatternView', false).returns(el);
            context$3$0.next = 4;
            return _regeneratorRuntime.awrap(_libUnlockHelpers2['default'].patternUnlock(adb, driver, caps));

          case 4:
            mocks.helpers.verify();
            mocks.driver.verify();
            mocks.asyncbox.verify();
            mocks.adb.verify();

          case 8:
          case 'end':
            return context$3$0.stop();
        }
      }, null, this);
    });
    it('should be able to unlock device using pattern (API level < 21)', function callee$2$0() {
      return _regeneratorRuntime.async(function callee$2$0$(context$3$0) {
        while (1) switch (context$3$0.prev = context$3$0.next) {
          case 0:
            mocks.adb.expects('getApiLevel').returns(20);
            mocks.driver.expects('findElOrEls').withExactArgs('id', 'com.android.keyguard:id/lockPatternView', false).returns(el);
            context$3$0.next = 4;
            return _regeneratorRuntime.awrap(_libUnlockHelpers2['default'].patternUnlock(adb, driver, caps));

          case 4:
            mocks.helpers.verify();
            mocks.driver.verify();
            mocks.asyncbox.verify();
            mocks.adb.verify();

          case 8:
          case 'end':
            return context$3$0.stop();
        }
      }, null, this);
    });
  }));
});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInRlc3QvdW5pdC91bmxvY2staGVscGVyLXNwZWNzLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7b0JBQWlCLE1BQU07Ozs7OEJBQ0ksa0JBQWtCOzs7O2lDQUNuQixxQkFBcUI7O3FCQUM3QixPQUFPOzs7O2dDQUNMLDBCQUEwQjs7Ozt5QkFDcEIsa0JBQWtCOzs7O3dCQUNsQixVQUFVOztJQUF4QixRQUFROzt5QkFDSixZQUFZOzs7O0FBRTVCLElBQU0sb0JBQW9CLEdBQUcsSUFBSSxDQUFDO0FBQ2xDLElBQU0sb0JBQW9CLEdBQUcsR0FBRyxDQUFDO0FBQ2pDLElBQU0sdUJBQXVCLEdBQUcsR0FBRyxDQUFDO0FBQ3BDLElBQU0sZ0JBQWdCLEdBQUcsR0FBRyxDQUFDOztBQUU3QixrQkFBSyxNQUFNLEVBQUUsQ0FBQztBQUNkLGtCQUFLLEdBQUcsNkJBQWdCLENBQUM7O0FBRXpCLFFBQVEsQ0FBQyxnQkFBZ0IsRUFBRSxZQUFZO0FBQ3JDLE1BQUksR0FBRyxHQUFHLDRCQUFTLENBQUM7QUFDcEIsTUFBSSxNQUFNLEdBQUcsNEJBQW1CLENBQUM7QUFDakMsTUFBSSxPQUFPLEdBQUcsbUJBQU0sYUFBYSxFQUFFLENBQUM7QUFDcEMsTUFBSSxNQUFNLEdBQUcsa0JBQUssTUFBTSxDQUFDO0FBQ3pCLFVBQVEsQ0FBQyxtQkFBbUIsRUFBRSxZQUFZO0FBQ3hDLE1BQUUsQ0FBQyxnQ0FBZ0MsRUFBRTs7OztBQUNuQywwQ0FBUSxpQkFBaUIsQ0FBQyxLQUFLLENBQUMsQ0FBQyxNQUFNLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxDQUFDO0FBQ3BELDBDQUFRLGlCQUFpQixDQUFDLFNBQVMsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLENBQUM7QUFDeEQsMENBQVEsaUJBQWlCLENBQUMsVUFBVSxDQUFDLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsQ0FBQztBQUN6RCwwQ0FBUSxpQkFBaUIsQ0FB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QUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsRUFBRSxJQUFJLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7QUFDekQsa0JBQU0sQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsRUFBRSxJQUFJLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7QUFDekQsa0JBQU0sQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsRUFBRSxJQUFJLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7QUFDekQsa0JBQU0sQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsRUFBRSxJQUFJLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7QUFDekQsa0JBQU0sQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsRUFBRSxJQUFJLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7QUFDekQsa0JBQU0sQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsRUFBRSxJQUFJLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7QUFDekQsa0JBQU0sQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsRUFBRSxJQUFJLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7QUFDekQsa0JBQU0sQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsRUFBRSxJQUFJLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7QUFDekQsa0JBQU0sQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsRUFBRSxJQUFJLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7QUFDekQsa0JBQU0sQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsRUFBRSxJQUFJLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7QUFDekQsa0JBQU0sQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsRUFBRSxJQUFJLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7QUFDekQsa0JBQU0sQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsRUFBRSxJQUFJLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7QUFDekQsa0JBQU0sQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsRUFBRSxJQUFJLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7QUFDekQsa0JBQU0sQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsRUFBRSxJQUFJLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7QUFDekQsa0JBQU0sQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsRUFBRSxJQUFJLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7QUFDekQsa0JBQU0sQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsRUFBRSxJQUFJLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7QUFDekQsa0JBQU0sQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsRUFBRSxJQUFJLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7Ozs7Ozs7S0FDMUQsQ0FBQyxDQUFDO0dBQ0osQ0FBQyxDQUFDO0FBQ0gsVUFBUSxDQUFDLG1CQUFtQixFQUFFLFlBQVk7QUFDeEMsTUFBRSxDQUFDLDJFQUEyRSxFQUFFO1VBQzFFLElBQUksRUFDSixPQUFPOzs7O0FBRFAsZ0JBQUksR0FBRyxDQUFDLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxDQUFDO0FBQ3BELG1CQUFPLEdBQUcsOEJBQVEsaUJBQWlCLENBQUMsSUFBSSxFQUFFLEVBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUMsQ0FBQyxFQUFDLEVBQUUsQ0FBQyxDQUFDOztBQUM3RCxtQkFBTyxDQUFDLEdBQUcsQ0FBQyxVQUFDLE1BQU0sRUFBRSxDQUFDLEVBQUs7QUFDekIsa0JBQUksQ0FBQyxLQUFLLENBQUMsRUFBRTtBQUNYLHNCQUFNLENBQUMsTUFBTSxDQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUMsT0FBTyxDQUFDLENBQUM7ZUFDckMsTUFBTSxJQUFJLENBQUMsS0FBSyxJQUFJLENBQUMsTUFBTSxFQUFFO0FBQzVCLHNCQUFNLENBQUMsTUFBTSxDQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUMsU0FBUyxDQUFDLENBQUM7ZUFDdkMsTUFBTTtBQUNMLHNCQUFNLENBQUMsTUFBTSxDQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUMsUUFBUSxDQUFDLENBQUM7ZUFDdEM7YUFDRixDQUFDLENBQUM7Ozs7Ozs7S0FDSixDQUFDLENBQUM7QUFDSCxNQUFFLENBQUMsK0RBQStELEVBQUU7VUFDOUQsSUFBSSxFQUNKLE9BQU87Ozs7QUFEUCxnQkFBSSxHQUFHLENBQUMsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLENBQUM7QUFDcEQsbUJBQU8sR0FBRyw4QkFBUSxpQkFBaUIsQ0FBQyxJQUFJLEVBQUUsRUFBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBQyxDQUFDLEVBQUMsRUFBRSxDQUFDLENBQUM7OztBQUU3RCxtQkFBTyxDQUFDLENBQUMsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQztBQUNyQyxtQkFBTyxDQUFDLENBQUMsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDOztBQUV0QyxtQkFBTyxDQUFDLENBQUMsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQztBQUNyQyxtQkFBTyxDQUFDLENBQUMsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQzs7QUFFckMsbUJBQU8sQ0FBQyxDQUFDLENBQUMsQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztBQUN0QyxtQkFBTyxDQUFDLENBQUMsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQzs7QUFFckMsbUJBQU8sQ0FBQyxDQUFDLENBQUMsQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUM7QUFDckMsbUJBQU8sQ0FBQyxDQUFDLENBQUMsQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQzs7QUFFdEMsbUJBQU8sQ0FBQyxDQUFDLENBQUMsQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUM7QUFD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QixpQkFBSyxDQUFDLFFBQVEsQ0FBQyxNQUFNLEVBQUUsQ0FBQztBQUN4QixpQkFBSyxDQUFDLEdBQUcsQ0FBQyxNQUFNLEVBQUUsQ0FBQzs7Ozs7OztLQUNwQixDQUFDLENBQUM7R0FDSixDQUFDLENBQUMsQ0FBQztDQUNMLENBQUMsQ0FBQyIsImZpbGUiOiJ0ZXN0L3VuaXQvdW5sb2NrLWhlbHBlci1zcGVjcy5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBjaGFpIGZyb20gJ2NoYWknO1xuaW1wb3J0IGNoYWlBc1Byb21pc2VkIGZyb20gJ2NoYWktYXMtcHJvbWlzZWQnO1xuaW1wb3J0IHsgd2l0aE1vY2tzIH0gZnJvbSAnYXBwaXVtLXRlc3Qtc3VwcG9ydCc7XG5pbXBvcnQgc2lub24gZnJvbSAnc2lub24nO1xuaW1wb3J0IGhlbHBlcnMgZnJvbSAnLi4vLi4vbGliL3VubG9jay1oZWxwZXJzJztcbmltcG9ydCBBbmRyb2lkRHJpdmVyIGZyb20gJy4uLy4uL2xpYi9kcml2ZXInO1xuaW1wb3J0ICogYXMgYXN5bmNib3ggZnJvbSAnYXN5bmNib3gnO1xuaW1wb3J0IEFEQiBmcm9tICdhcHBpdW0tYWRiJztcblxuY29uc3QgS0VZQ09ERV9OVU1QQURfRU5URVIgPSBcIjY2XCI7XG5jb25zdCBJTlBVVF9LRVlTX1dBSVRfVElNRSA9IDEwMDtcbmNvbnN0IEhJREVfS0VZQk9BUkRfV0FJVF9USU1FID0gMTAwO1xuY29uc3QgVU5MT0NLX1dBSVRfVElNRSA9IDEwMDtcblxuY2hhaS5zaG91bGQoKTtcbmNoYWkudXNlKGNoYWlBc1Byb21pc2VkKTtcblxuZGVzY3JpYmUoJ1VubG9jayBIZWxwZXJzJywgZnVuY3Rpb24gKCkge1xuICBsZXQgYWRiID0gbmV3IEFEQigpO1xuICBsZXQgZHJpdmVyID0gbmV3IEFuZHJvaWREcml2ZXIoKTtcbiAgbGV0IHNhbmRib3ggPSBzaW5vbi5jcmVhdGVTYW5kYm94KCk7XG4gIGxldCBleHBlY3QgPSBjaGFpLmV4cGVjdDtcbiAgZGVzY3JpYmUoJ2lzVmFsaWRVbmxvY2tUeXBlJywgZnVuY3Rpb24gKCkge1xuICAgIGl0KCdzaG91bGQgdmVyaWZ5IHRoZSB1bmxvY2sgdHlwZXMnLCBhc3luYyBmdW5jdGlvbiAoKSB7XG4gICAgICBoZWxwZXJzLmlzVmFsaWRVbmxvY2tUeXBlKCdwaW4nKS5zaG91bGQuZXF1YWwodHJ1ZSk7XG4gICAgICBoZWxwZXJzLmlzVmFsaWRVbmxvY2tUeXBlKCdwYXR0ZXJuJykuc2hvdWxkLmVxdWFsKHRydWUpO1xuICAgICAgaGVscGVycy5pc1ZhbGlkVW5sb2NrVHlwZSgncGFzc3dvcmQnKS5zaG91bGQuZXF1YWwodHJ1ZSk7XG4gICAgICBoZWxwZXJzLmlzVmFsaWRVbmxvY2tUeXBlKCdmaW5nZXJwcmludCcpLnNob3VsZC5lcXVhbCh0cnVlKTtcbiAgICAgIGhlbHBlcnMuaXNWYWxpZFVubG9ja1R5cGUoJ3RlbGVwYXRoeScpLnNob3VsZC5lcXVhbChmYWxzZSk7XG4gICAgfSk7XG4gIH0pO1xuICBkZXNjcmliZSgnaXNWYWxpZEtleScsICBmdW5jdGlvbiAoKSB7XG4gICAgaXQoJ3Nob3VsZCB2ZXJpZnkgdGhlIHVubG9jayBrZXlzIGZvciBlYWNoIHR5cGUnLCBhc3luYyBmdW5jdGlvbiAoKSB7XG4gICAgICBoZWxwZXJzLmlzVmFsaWRLZXkoJ3BpbicpLnNob3VsZC5lcXVhbChmYWxzZSk7XG4gICAgICBoZWxwZXJzLmlzVmFsaWRLZXkoJ3BpbicsICcgJykuc2hvdWxkLmVxdWFsKGZhbHNlKTtcbiAgICAgIGhlbHBlcnMuaXNWYWxpZEtleSgncGluJywgJzExMTEnKS5zaG91bGQuZXF1YWwodHJ1ZSk7XG4gICAgICBoZWxwZXJzLmlzVmFsaWRLZXkoJ3BpbicsICcxYWJjJykuc2hvdWxkLmVxdWFsKGZhbHNlKTtcbiAgICAgIGhlbHBlcnMuaXNWYWxpZEtleSgnZmluZ2VycHJpbnQnKS5zaG91bGQuZXF1YWwoZmFsc2UpO1xuICAgICAgaGVscGVycy5pc1ZhbGlkS2V5KCdmaW5nZXJwcmludCcsICcgJykuc2hvdWxkLmVxdWFsKGZhbHNlKTtcbiAgICAgIGhlbHBlcnMuaXNWYWxpZEtleSgnZmluZ2VycHJpbnQnLCAnMTExMScpLnNob3VsZC5lcXVhbCh0cnVlKTtcbiAgICAgIGhlbHBlcnMuaXNWYWxpZEtleSgnZmluZ2VycHJpbnQnLCAnMWFiYycpLnNob3VsZC5lcXVhbChmYWxzZSk7XG4gICAgICBoZWxwZXJzLmlzVmFsaWRLZXkoJ3BhdHRlcm4nLCAnMScpLnNob3VsZC5lcXVhbChmYWxzZSk7XG4gICAgICBoZWxwZXJzLmlzVmFsaWRLZXkoJ3BhdHRlcm4nLCAnMTIzNCcpLnNob3VsZC5lcXVhbCh0cnVlKTtcbiAgICAgIGhlbHBlcnMuaXNWYWxpZEtleSgncGF0dGVybicsICcxMjM0NTY3ODknKS5zaG91bGQuZXF1YWwodHJ1ZSk7XG4gICAgICBoZWxwZXJzLmlzVmFsaWRLZXkoJ3BhdHRlcm4nLCAnMDEyMzQnKS5zaG91bGQuZXF1YWwoZmFsc2UpO1xuICAgICAgaGVscGVycy5pc1ZhbGlkS2V5KCdwYXR0ZXJuJykuc2hvdWxkLmVxdWFsKGZhbHNlKTtcbiAgICAgIGhlbHBlcnMuaXNWYWxpZEtleSgncGF0dGVybicsICcgJykuc2hvdWxkLmVxdWFsKGZhbHNlKTtcbiAgICAgIGhlbHBlcnMuaXNWYWxpZEtleSgncGF0dGVybicsICcxYWJjJykuc2hvdWxkLmVxdWFsKGZhbHNlKTtcbiAgICAgIGhlbHBlcnMuaXNWYWxpZEtleSgncGF0dGVybicsICcxMjEzJykuc2hvdWxkLmVxdWFsKGZhbHNlKTtcbiAgICAgIGhlbHBlcnMuaXNWYWxpZEtleSgncGFzc3dvcmQnLCAnMTIxYzMnKS5zaG91bGQuZXF1YWwodHJ1ZSk7XG4gICAgICBoZWxwZXJzLmlzVmFsaWRLZXkoJ3Bhc3N3b3JkJywgJ2FwcGl1bScpLnNob3VsZC5lcXVhbCh0cnVlKTtcbiAgICAgIGhlbHBlcnMuaXNWYWxpZEtleSgncGFzc3dvcmQnLCAnYXBwaXVtLWFuZHJvaWQtZHJpdmVyJykuc2hvdWxkLmVxdWFsKHRydWUpO1xuICAgICAgaGVscGVycy5pc1ZhbGlkS2V5KCdwYXNzd29yZCcsICdAIyQlJi0rKCkqXCJcXCc6OyE/LF8gLi9+YHw9e31cXFxcW10nKS5zaG91bGQuZXF1YWwodHJ1ZSk7XG4gICAgICBoZWxwZXJzLmlzVmFsaWRLZXkoJ3Bhc3N3b3JkJywgJzEyMycpLnNob3VsZC5lcXVhbChmYWxzZSk7XG4gICAgICBoZWxwZXJzLmlzVmFsaWRLZXkoJ3Bhc3N3b3JkJykuc2hvdWxkLmVxdWFsKGZhbHNlKTtcbiAgICAgIGhlbHBlcnMuaXNWYWxpZEtleSgncGFzc3dvcmQnLCAnICAgJykuc2hvdWxkLmVxdWFsKGZhbHNlKTtcbiAgICB9KTtcbiAgICBpdCgnc2hvdWxkIHRocm93IGVycm9yIGlmIHVubG9jayB0eXBlIGlzIGludmFsaWQnLCBhc3luYyBmdW5jdGlvbiAoKSB7XG4gICAgICBleHBlY3QoKCkgPT4gaGVscGVycy5pc1ZhbGlkS2V5KCdpbnZhbGlkX3VubG9ja190eXBlJywgJzEnKSlcbiAgICAgICAgLnRvLnRocm93KCdJbnZhbGlkIHVubG9jayB0eXBlJyk7XG4gICAgfSk7XG4gIH0pO1xuICBkZXNjcmliZSgnZGlzbWlzc0tleWd1YXJkJywgd2l0aE1vY2tzKHtkcml2ZXIsICBhZGIsIGFzeW5jYm94LCBoZWxwZXJzfSwgKG1vY2tzKSA9PiB7XG4gICAgaXQoJ3Nob3VsZCBoaWRlIGtleWJvYXJkIGlmIGtleWJvYXJkIGlzIHNub3duJywgYXN5bmMgZnVuY3Rpb24gKCkge1xuICAgICAgbW9ja3MuZHJpdmVyLmV4cGVjdHMoJ2lzS2V5Ym9hcmRTaG93bicpLnJldHVybnModHJ1ZSk7XG4gICAgICBtb2Nrcy5kcml2ZXIuZXhwZWN0cygnaGlkZUtleWJvYXJkJykub25jZSgpO1xuICAgICAgbW9ja3MuYXN5bmNib3guZXhwZWN0cygnc2xlZXAnKS53aXRoRXhhY3RBcmdzKEhJREVfS0VZQk9BUkRfV0FJVF9USU1FKS5vbmNlKCk7XG4gICAgICBtb2Nrcy5hZGIuZXhwZWN0cygnc2hlbGwnKS5vbmNlKCk7XG4gICAgICBtb2Nrcy5hZGIuZXhwZWN0cygnYmFjaycpLm9uY2UoKTtcbiAgICAgIG1vY2tzLmFkYi5leHBlY3RzKCdnZXRBcGlMZXZlbCcpLnJldHVybnMoMjApO1xuICAgICAgbW9ja3MuaGVscGVycy5leHBlY3RzKCdzd2lwZVVwJykub25jZSgpO1xuICAgICAgYXdhaXQgaGVscGVycy5kaXNtaXNzS2V5Z3VhcmQoZHJpdmVyLCBhZGIpO1xuICAgICAgbW9ja3MuZHJpdmVyLnZlcmlmeSgpO1xuICAgICAgbW9ja3MuYXN5bmNib3gudmVyaWZ5KCk7XG4gICAgICBtb2Nrcy5oZWxwZXJzLnZlcmlmeSgpO1xuICAgIH0pO1xuICAgIGl0KCdzaG91bGQgZGlzbWlzcyBub3RpZmljYXRpb25zIGFuZCBkaXNzbWlzcyBrZXlndWFyZCB2aWEgc3dpcHBpbmcgdXAnLCBhc3luYyBmdW5jdGlvbiAoKSB7XG4gICAgICBtb2Nrcy5kcml2ZXIuZXhwZWN0cygnaXNLZXlib2FyZFNob3duJykucmV0dXJucyhmYWxzZSk7XG4gICAgICBtb2Nrcy5hZGIuZXhwZWN0cygnc2hlbGwnKVxuICAgICAgICAud2l0aEV4YWN0QXJncyhbXCJzZXJ2aWNlXCIsIFwiY2FsbFwiLCBcIm5vdGlmaWNhdGlvblwiLCBcIjFcIl0pLm9uY2UoKTtcbiAgICAgIG1vY2tzLmFkYi5leHBlY3RzKCdiYWNrJykub25jZSgpO1xuICAgICAgbW9ja3MuYWRiLmV4cGVjdHMoJ2dldEFwaUxldmVsJykucmV0dXJucygyMSk7XG4gICAgICBtb2Nrcy5oZWxwZXJzLmV4cGVjdHMoJ3N3aXBlVXAnKS53aXRoRXhhY3RBcmdzKGRyaXZlcikub25jZSgpO1xuICAgICAgYXdhaXQgaGVscGVycy5kaXNtaXNzS2V5Z3VhcmQoZHJpdmVyLCBhZGIpO1xuICAgICAgbW9ja3MuZHJpdmVyLnZlcmlmeSgpO1xuICAgICAgbW9ja3MuYWRiLnZlcmlmeSgpO1xuICAgICAgbW9ja3MuaGVscGVycy52ZXJpZnkoKTtcbiAgICB9KTtcbiAgICBpdCgnc2hvdWxkIGRpc3NtaXNzIGtleWd1YXJkIHZpYSBkaXNtaXNzLWtleWd1YXJkIHNoZWxsIGNvbW1hbmQgaWYgQVBJIGxldmVsID4gMjEnLCBhc3luYyBmdW5jdGlvbiAoKSB7XG4gICAgICBtb2Nrcy5kcml2ZXIuZXhwZWN0cygnaXNLZXlib2FyZFNob3duJykucmV0dXJucyhmYWxzZSk7XG4gICAgICBtb2Nrcy5hZGIuZXhwZWN0cygnc2hlbGwnKS5vbkNhbGwoMCkucmV0dXJucygnJyk7XG4gICAgICBtb2Nrcy5hZGIuZXhwZWN0cygnYmFjaycpLm9uY2UoKTtcbiAgICAgIG1vY2tzLmFkYi5leHBlY3RzKCdnZXRBcGlMZXZlbCcpLnJldHVybnMoMjIpO1xuICAgICAgbW9ja3MuYWRiLmV4cGVjdHMoJ3NoZWxsJykud2l0aEV4YWN0QXJncyhbXCJ3bVwiLCBcImRpc21pc3Mta2V5Z3VhcmRcIl0pLm9uY2UoKTtcbiAgICAgIG1vY2tzLmhlbHBlcnMuZXhwZWN0cygnc3dpcGVVcCcpLm5ldmVyKCk7XG4gICAgICBhd2FpdCBoZWxwZXJzLmRpc21pc3NLZXlndWFyZChkcml2ZXIsIGFkYik7XG4gICAgICBtb2Nrcy5kcml2ZXIudmVyaWZ5KCk7XG4gICAgICBtb2Nrcy5hZGIudmVyaWZ5KCk7XG4gICAgICBtb2Nrcy5oZWxwZXJzLnZlcmlmeSgpO1xuICAgIH0pO1xuICB9KSk7XG4gIGRlc2NyaWJlKCdzd2lwZVVwJywgd2l0aE1vY2tzKHtkcml2ZXIsIGhlbHBlcnN9LCAobW9ja3MpID0+IHtcbiAgICBpdCgnc2hvdWxkIHBlcmZvcm0gc3dpcGUgdXAgdG91Y2ggYWN0aW9uJywgYXN5bmMgZnVuY3Rpb24gKCkge1xuICAgICAgbGV0IHdpbmRvd1NpemUgPSB7eDogNDc1LCB5OiA4MDB9O1xuICAgICAgbGV0IGFjdGlvbnMgPSBbXG4gICAgICAgIHthY3Rpb246ICdwcmVzcycsIG9wdGlvbnM6IHtlbGVtZW50OiBudWxsLCB4OiAyMzcsIHk6IDc5MH19LFxuICAgICAgICB7YWN0aW9uOiAnbW92ZVRvJywgb3B0aW9uczoge2VsZW1lbnQ6IG51bGwsIHg6IDIzNywgeTogMTAwfX0sXG4gICAgICAgIHthY3Rpb246ICdyZWxlYXNlJ31cbiAgICAgIF07XG4gICAgICBtb2Nrcy5kcml2ZXIuZXhwZWN0cygnZ2V0V2luZG93U2l6ZScpLnJldHVybnMod2luZG93U2l6ZSk7XG4gICAgICBtb2Nrcy5kcml2ZXIuZXhwZWN0cygncGVyZm9ybVRvdWNoJykud2l0aEV4YWN0QXJncyhhY3Rpb25zKS5vbmNlO1xuICAgICAgYXdhaXQgaGVscGVycy5zd2lwZVVwKGRyaXZlcik7XG4gICAgICBtb2Nrcy5kcml2ZXIudmVyaWZ5KCk7XG4gICAgfSk7XG4gIH0pKTtcbiAgZGVzY3JpYmUoJ2VuY29kZVBhc3N3b3JkJywgZnVuY3Rpb24gKCkge1xuICAgIGl0KCdzaG91bGQgdmVyaWZ5IHRoZSBwYXNzd29yZCB3aXRoIGJsYW5rIHNwYWNlIGlzIGVuY29kZWQnLCBhc3luYyBmdW5jdGlvbiAoKSB7XG4gICAgICBoZWxwZXJzLmVuY29kZVBhc3N3b3JkKCdhIHAgcCBpIHUgbScpLnNob3VsZC5lcXVhbChcImElc3Alc3Alc2klc3Ulc21cIik7XG4gICAgICBoZWxwZXJzLmVuY29kZVBhc3N3b3JkKCcgICAnKS5zaG91bGQuZXF1YWwoXCIlcyVzJXNcIik7XG4gICAgfSk7XG4gIH0pO1xuICBkZXNjcmliZSgnc3RyaW5nS2V5VG9BcnInLCBmdW5jdGlvbiAoKSB7XG4gICAgaXQoJ3Nob3VsZCBjYXN0IHN0cmluZyBrZXlzIHRvIGFycmF5JywgYXN5bmMgZnVuY3Rpb24gKCkge1xuICAgICAgaGVscGVycy5zdHJpbmdLZXlUb0FycignMTIzNCcpLnNob3VsZC5lcWwoWycxJywgJzInLCAnMycsICc0J10pO1xuICAgICAgaGVscGVycy5zdHJpbmdLZXlUb0FycignIDEyMzQgJykuc2hvdWxkLmVxbChbJzEnLCAnMicsICczJywgJzQnXSk7XG4gICAgICBoZWxwZXJzLnN0cmluZ0tleVRvQXJyKCcxIDIgMyA0Jykuc2hvdWxkLmVxbChbJzEnLCAnMicsICczJywgJzQnXSk7XG4gICAgICBoZWxwZXJzLnN0cmluZ0tleVRvQXJyKCcxICAyICAzICA0Jykuc2hvdWxkLmVxbChbJzEnLCAnMicsICczJywgJzQnXSk7XG4gICAgfSk7XG4gIH0pO1xuICBkZXNjcmliZSgnZmluZ2VycHJpbnRVbmxvY2snLCB3aXRoTW9ja3Moe2FkYiwgYXN5bmNib3h9LCAobW9ja3MpID0+IHtcbiAgICBpdCgnc2hvdWxkIGJlIGFibGUgdG8gdW5sb2NrIGRldmljZSB2aWEgZmluZ2VycHJpbnQgaWYgQVBJIGxldmVsID49IDIzJywgYXN5bmMgZnVuY3Rpb24gKCkge1xuICAgICAgbGV0IGNhcHMgPSB7dW5sb2NrS2V5OiAnMTIzJ307XG4gICAgICBtb2Nrcy5hZGIuZXhwZWN0cygnZ2V0QXBpTGV2ZWwnKS5yZXR1cm5zKDIzKTtcbiAgICAgIG1vY2tzLmFkYi5leHBlY3RzKCdmaW5nZXJwcmludCcpLndpdGhFeGFjdEFyZ3MoY2Fwcy51bmxvY2tLZXkpLm9uY2UoKTtcbiAgICAgIG1vY2tzLmFzeW5jYm94LmV4cGVjdHMoJ3NsZWVwJykud2l0aEV4YWN0QXJncyhVTkxPQ0tfV0FJVF9USU1FKS5vbmNlKCk7XG4gICAgICBhd2FpdCBoZWxwZXJzLmZpbmdlcnByaW50VW5sb2NrKGFkYiwgZHJpdmVyLCBjYXBzKS5zaG91bGQuYmUuZnVsZmlsbGVkO1xuICAgICAgbW9ja3MuYWRiLnZlcmlmeSgpO1xuICAgICAgbW9ja3MuYXN5bmNib3gudmVyaWZ5KCk7XG4gICAgfSk7XG4gICAgaXQoJ3Nob3VsZCB0aHJvdyBlcnJvciBpZiBBUEkgbGV2ZWwgPCAyMycsIGFzeW5jIGZ1bmN0aW9uICgpIHtcbiAgICAgIG1vY2tzLmFkYi5leHBlY3RzKCdnZXRBcGlMZXZlbCcpLnJldHVybnMoMjIpO1xuICAgICAgbW9ja3MuYWRiLmV4cGVjdHMoJ2ZpbmdlcnByaW50JykubmV2ZXIoKTtcbiAgICAgIG1vY2tzLmFzeW5jYm94LmV4cGVjdHMoJ3NsZWVwJykubmV2ZXIoKTtcbiAgICAgIGF3YWl0IGhlbHBlcnMuZmluZ2VycHJpbnRVbmxvY2soYWRiKVxuICAgICAgICAuc2hvdWxkLmV2ZW50dWFsbHkuYmUucmVqZWN0ZWRXaXRoKCdvbmx5IHdvcmtzIGZvciBBbmRyb2lkIDYrJyk7XG4gICAgICBtb2Nrcy5hZGIudmVyaWZ5KCk7XG4gICAgICBtb2Nrcy5hc3luY2JveC52ZXJpZnkoKTtcbiAgICB9KTtcbiAgfSkpO1xuICBkZXNjcmliZSgncGluVW5sb2NrJywgd2l0aE1vY2tzKHthZGIsIGhlbHBlcnMsIGRyaXZlciwgYXN5bmNib3h9LCAobW9ja3MpID0+IHtcbiAgICBjb25zdCBjYXBzID0ge3VubG9ja0tleTogJzEzNTc5J307XG4gICAgY29uc3Qga2V5cyA9IFsnMScsICczJywgJzUnLCAnNycsICc5J107XG4gICAgY29uc3QgZWxzID0gW3tFTEVNRU5UOiAxfSwge0VMRU1FTlQ6IDJ9LCB7RUxFTUVOVDogM30sXG4gICAgICAgICAgICAgICAgIHtFTEVNRU5UOiA0fSwge0VMRU1FTlQ6IDV9LCB7RUxFTUVOVDogNn0sXG4gICAgICAgICAgICAgICAgIHtFTEVNRU5UOiA3fSwge0VMRU1FTlQ6IDh9LCB7RUxFTUVOVDogOX1dO1xuICAgIGFmdGVyRWFjaChmdW5jdGlvbiAoKSB7XG4gICAgICBzYW5kYm94LnJlc3RvcmUoKTtcbiAgICB9KTtcbiAgICBpdCgnc2hvdWxkIGJlIGFibGUgdG8gdW5sb2NrIGRldmljZSB1c2luZyBwaW4gKEFQSSBsZXZlbCA+PSAyMSknLCBhc3luYyBmdW5jdGlvbiAoKSB7XG4gICAgICBtb2Nrcy5oZWxwZXJzLmV4cGVjdHMoJ2Rpc21pc3NLZXlndWFyZCcpLm9uY2UoKTtcbiAgICAgIG1vY2tzLmhlbHBlcnMuZXhwZWN0cygnc3RyaW5nS2V5VG9BcnInKS5yZXR1cm5zKGtleXMpO1xuICAgICAgbW9ja3MuYWRiLmV4cGVjdHMoJ2dldEFwaUxldmVsJykucmV0dXJucygyMSk7XG4gICAgICBtb2Nrcy5kcml2ZXIuZXhwZWN0cygnZmluZEVsT3JFbHMnKVxuICAgICAgICAud2l0aEV4YWN0QXJncyhcImlkXCIsIFwiY29tLmFuZHJvaWQuc3lzdGVtdWk6aWQvZGlnaXRfdGV4dFwiLCB0cnVlKVxuICAgICAgICAucmV0dXJucyhlbHMpO1xuICAgICAgbW9ja3MuZHJpdmVyLmV4cGVjdHMoJ2ZpbmRFbE9yRWxzJylcbiAgICAgICAgLndpdGhFeGFjdEFyZ3MoXCJpZFwiLCBcImNvbS5hbmRyb2lkLnN5c3RlbXVpOmlkL2tleV9lbnRlclwiLCBmYWxzZSlcbiAgICAgICAgLnJldHVybnMoe0VMRU1FTlQ6IDEwMH0pO1xuICAgICAgZm9yIChsZXQgZSBvZiBlbHMpIHtcbiAgICAgICAgbW9ja3MuZHJpdmVyLmV4cGVjdHMoJ2dldEF0dHJpYnV0ZScpLndpdGhFeGFjdEFyZ3MoJ3RleHQnLCBlLkVMRU1FTlQpXG4gICAgICAgICAgLnJldHVybnMoZS5FTEVNRU5ULnRvU3RyaW5nKCkpO1xuICAgICAgfVxuICAgICAgbW9ja3MuYXN5bmNib3guZXhwZWN0cygnc2xlZXAnKS53aXRoRXhhY3RBcmdzKFVOTE9DS19XQUlUX1RJTUUpLm9uY2UoKTtcbiAgICAgIHNhbmRib3guc3R1Yihkcml2ZXIsICdjbGljaycpO1xuXG4gICAgICBhd2FpdCBoZWxwZXJzLnBpblVubG9jayhhZGIsIGRyaXZlciwgY2Fwcyk7XG5cbiAgICAgIGRyaXZlci5jbGljay5nZXRDYWxsKDApLmFyZ3NbMF0uc2hvdWxkLmVxdWFsKDEpO1xuICAgICAgZHJpdmVyLmNsaWNrLmdldENhbGwoMSkuYXJnc1swXS5zaG91bGQuZXF1YWwoMyk7XG4gICAgICBkcml2ZXIuY2xpY2suZ2V0Q2FsbCgyKS5hcmdzWzBdLnNob3VsZC5lcXVhbCg1KTtcbiAgICAgIGRyaXZlci5jbGljay5nZXRDYWxsKDMpLmFyZ3NbMF0uc2hvdWxkLmVxdWFsKDcpO1xuICAgICAgZHJpdmVyLmNsaWNrLmdldENhbGwoNCkuYXJnc1swXS5zaG91bGQuZXF1YWwoOSk7XG4gICAgICBkcml2ZXIuY2xpY2suZ2V0Q2FsbCg1KS5hcmdzWzBdLnNob3VsZC5lcXVhbCgxMDApO1xuXG4gICAgICBtb2Nrcy5oZWxwZXJzLnZlcmlmeSgpO1xuICAgICAgbW9ja3MuZHJpdmVyLnZlcmlmeSgpO1xuICAgICAgbW9ja3MuYWRiLnZlcmlmeSgpO1xuICAgICAgbW9ja3MuYXN5bmNib3gudmVyaWZ5KCk7XG4gICAgfSk7XG4gICAgaXQoJ3Nob3VsZCBiZSBhYmxlIHRvIHVubG9jayBkZXZpY2UgdXNpbmcgcGluIChBUEkgbGV2ZWwgPCAyMSknLCBhc3luYyBmdW5jdGlvbiAoKSB7XG4gICAgICBtb2Nrcy5oZWxwZXJzLmV4cGVjdHMoJ2Rpc21pc3NLZXlndWFyZCcpLm9uY2UoKTtcbiAgICAgIG1vY2tzLmhlbHBlcnMuZXhwZWN0cygnc3RyaW5nS2V5VG9BcnInKS5yZXR1cm5zKGtleXMpO1xuICAgICAgbW9ja3MuYWRiLmV4cGVjdHMoJ2dldEFwaUxldmVsJykucmV0dXJucygyMCk7XG4gICAgICBmb3IgKGxldCBwaW4gb2Yga2V5cykge1xuICAgICAgICBtb2Nrcy5kcml2ZXIuZXhwZWN0cygnZmluZEVsT3JFbHMnKVxuICAgICAgICAgIC53aXRoRXhhY3RBcmdzKFwiaWRcIiwgYGNvbS5hbmRyb2lkLmtleWd1YXJkOmlkL2tleSR7cGlufWAsIGZhbHNlKVxuICAgICAgICAgIC5yZXR1cm5zKHtFTEVNRU5UOiBwYXJzZUludChwaW4sIDEwKX0pO1xuICAgICAgfVxuICAgICAgbW9ja3MuZHJpdmVyLmV4cGVjdHMoJ2ZpbmRFbE9yRWxzJylcbiAgICAgICAgLndpdGhFeGFjdEFyZ3MoXCJpZFwiLCBcImNvbS5hbmRyb2lkLmtleWd1YXJkOmlkL2tleV9lbnRlclwiLCBmYWxzZSlcbiAgICAgICAgLnJldHVybnMoe0VMRU1FTlQ6IDEwMH0pO1xuICAgICAgbW9ja3MuYXN5bmNib3guZXhwZWN0cygnc2xlZXAnKS53aXRoRXhhY3RBcmdzKFVOTE9DS19XQUlUX1RJTUUpLm9uY2UoKTtcbiAgICAgIHNhbmRib3guc3R1Yihkcml2ZXIsICdjbGljaycpO1xuXG4gICAgICBhd2FpdCBoZWxwZXJzLnBpblVubG9jayhhZGIsIGRyaXZlciwgY2Fwcyk7XG5cbiAgICAgIGRyaXZlci5jbGljay5nZXRDYWxsKDApLmFyZ3NbMF0uc2hvdWxkLmVxdWFsKDEpO1xuICAgICAgZHJpdmVyLmNsaWNrLmdldENhbGwoMSkuYXJnc1swXS5zaG91bGQuZXF1YWwoMyk7XG4gICAgICBkcml2ZXIuY2xpY2suZ2V0Q2FsbCgyKS5hcmdzWzBdLnNob3VsZC5lcXVhbCg1KTtcbiAgICAgIGRyaXZlci5jbGljay5nZXRDYWxsKDMpLmFyZ3NbMF0uc2hvdWxkLmVxdWFsKDcpO1xuICAgICAgZHJpdmVyLmNsaWNrLmdldENhbGwoNCkuYXJnc1swXS5zaG91bGQuZXF1YWwoOSk7XG4gICAgICBkcml2ZXIuY2xpY2suZ2V0Q2FsbCg1KS5hcmdzWzBdLnNob3VsZC5lcXVhbCgxMDApO1xuXG4gICAgICBtb2Nrcy5oZWxwZXJzLnZlcmlmeSgpO1xuICAgICAgbW9ja3MuZHJpdmVyLnZlcmlmeSgpO1xuICAgICAgbW9ja3MuYWRiLnZlcmlmeSgpO1xuICAgICAgbW9ja3MuYXN5bmNib3gudmVyaWZ5KCk7XG4gICAgfSk7XG4gICAgaXQoJ3Nob3VsZCB0aHJvdyBlcnJvciBpZiBwaW4gYnV0dG9ucyBkb2VzIG5vdCBleGlzdCAoQVBJIGxldmVsID49IDIxKScsIGFzeW5jIGZ1bmN0aW9uICgpIHtcbiAgICAgIG1vY2tzLmhlbHBlcnMuZXhwZWN0cygnZGlzbWlzc0tleWd1YXJkJykub25jZSgpO1xuICAgICAgbW9ja3MuaGVscGVycy5leHBlY3RzKCdzdHJpbmdLZXlUb0FycicpLm9uY2UoKTtcbiAgICAgIG1vY2tzLmFkYi5leHBlY3RzKCdnZXRBcGlMZXZlbCcpLnJldHVybnMoMjEpO1xuICAgICAgbW9ja3MuZHJpdmVyLmV4cGVjdHMoJ2ZpbmRFbE9yRWxzJykucmV0dXJucyhudWxsKTtcbiAgICAgIGF3YWl0IGhlbHBlcnMucGluVW5sb2NrKGFkYiwgZHJpdmVyLCBjYXBzKS5zaG91bGQuZXZlbnR1YWxseS5iZVxuICAgICAgICAucmVqZWN0ZWRXaXRoKCdFcnJvciBmaW5kaW5nIHVubG9jayBwaW4gYnV0dG9ucyEnKTtcbiAgICAgIG1vY2tzLmhlbHBlcnMudmVyaWZ5KCk7XG4gICAgICBtb2Nrcy5kcml2ZXIudmVyaWZ5KCk7XG4gICAgICBtb2Nrcy5hZGIudmVyaWZ5KCk7XG4gICAgfSk7XG4gICAgaXQoJ3Nob3VsZCB0aHJvdyBlcnJvciBpZiBwaW4gYnV0dG9ucyBkb2VzIG5vdCBleGlzdCAoQVBJIGxldmVsIDwgMjEpJywgYXN5bmMgZnVuY3Rpb24gKCkge1xuICAgICAgbW9ja3MuaGVscGVycy5leHBlY3RzKCdkaXNtaXNzS2V5Z3VhcmQnKS5vbmNlKCk7XG4gICAgICBtb2Nrcy5oZWxwZXJzLmV4cGVjdHMoJ3N0cmluZ0tleVRvQXJyJykucmV0dXJucyhrZXlzKTtcbiAgICAgIG1vY2tzLmFkYi5leHBlY3RzKCdnZXRBcGlMZXZlbCcpLnJldHVybnMoMjApO1xuICAgICAgbW9ja3MuZHJpdmVyLmV4cGVjdHMoJ2ZpbmRFbE9yRWxzJylcbiAgICAgICAgLndpdGhFeGFjdEFyZ3MoJ2lkJywgJ2NvbS5hbmRyb2lkLmtleWd1YXJkOmlkL2tleTEnLCBmYWxzZSlcbiAgICAgICAgLnJldHVybnMobnVsbCk7XG4gICAgICBhd2FpdCBoZWxwZXJzLnBpblVubG9jayhhZGIsIGRyaXZlciwgY2Fwcykuc2hvdWxkLmV2ZW50dWFsbHkuYmVcbiAgICAgICAgLnJlamVjdGVkV2l0aChgRXJyb3IgZmluZGluZyB1bmxvY2sgcGluICcxJyBidXR0b24hYCk7XG4gICAgICBtb2Nrcy5oZWxwZXJzLnZlcmlmeSgpO1xuICAgICAgbW9ja3MuZHJpdmVyLnZlcmlmeSgpO1xuICAgICAgbW9ja3MuYWRiLnZlcmlmeSgpO1xuICAgIH0pO1xuICB9KSk7XG4gIGRlc2NyaWJlKCdwYXNzd29yZFVubG9jaycsIHdpdGhNb2Nrcyh7YWRiLCBoZWxwZXJzLCBhc3luY2JveH0sIChtb2NrcykgPT4ge1xuICAgIGl0KCdzaG91bGQgYmUgYWJsZSB0byB1bmxvY2sgZGV2aWNlIHVzaW5nIHBhc3N3b3JkJywgYXN5bmMgZnVuY3Rpb24gKCkge1xuICAgICAgbGV0IGNhcHMgPSB7dW5sb2NrS2V5OiAncHNzd3JkJ307XG4gICAgICBtb2Nrcy5oZWxwZXJzLmV4cGVjdHMoJ2Rpc21pc3NLZXlndWFyZCcpLndpdGhFeGFjdEFyZ3MoZHJpdmVyLCBhZGIpLm9uY2UoKTtcbiAgICAgIG1vY2tzLmhlbHBlcnMuZXhwZWN0cygnZW5jb2RlUGFzc3dvcmQnKS53aXRoRXhhY3RBcmdzKGNhcHMudW5sb2NrS2V5KS5yZXR1cm5zKGNhcHMudW5sb2NrS2V5KTtcbiAgICAgIG1vY2tzLmFkYi5leHBlY3RzKCdzaGVsbCcpLndpdGhFeGFjdEFyZ3MoWydpbnB1dCcsICd0ZXh0JywgY2Fwcy51bmxvY2tLZXldKS5vbmNlKCk7XG4gICAgICBtb2Nrcy5hc3luY2JveC5leHBlY3RzKCdzbGVlcCcpLndpdGhFeGFjdEFyZ3MoSU5QVVRfS0VZU19XQUlUX1RJTUUpLm9uY2UoKTtcbiAgICAgIG1vY2tzLmFkYi5leHBlY3RzKCdzaGVsbCcpLndpdGhFeGFjdEFyZ3MoWydpbnB1dCcsICdrZXlldmVudCcsIEtFWUNPREVfTlVNUEFEX0VOVEVSXSk7XG4gICAgICBtb2Nrcy5hc3luY2JveC5leHBlY3RzKCdzbGVlcCcpLndpdGhFeGFjdEFyZ3MoVU5MT0NLX1dBSVRfVElNRSkub25jZSgpO1xuICAgICAgYXdhaXQgaGVscGVycy5wYXNzd29yZFVubG9jayhhZGIsIGRyaXZlciwgY2Fwcyk7XG4gICAgICBtb2Nrcy5oZWxwZXJzLnZlcmlmeSgpO1xuICAgICAgbW9ja3MuYWRiLnZlcmlmeSgpO1xuICAgICAgbW9ja3MuYXN5bmNib3gudmVyaWZ5KCk7XG4gICAgfSk7XG4gIH0pKTtcbiAgZGVzY3JpYmUoJ2dldFBhdHRlcm5LZXlQb3NpdGlvbicsIGZ1bmN0aW9uICgpIHtcbiAgICBpdCgnc2hvdWxkIHZlcmlmeSBwYXR0ZXJuIHBpbiBpcyBhcHJveGltYXRlbGx5IHRvIGl0cyBwb3NpdGlvbicsIGFzeW5jIGZ1bmN0aW9uICgpIHtcbiAgICAgIGxldCBwaW5zID0gWzEsIDIsIDMsIDQsIDUsIDYsIDcsIDgsIDldLm1hcCgocGluKSA9PiB7XG4gICAgICAgIHJldHVybiBoZWxwZXJzLmdldFBhdHRlcm5LZXlQb3NpdGlvbihwaW4sIHt4OiAzMywgeTozMjN9LCAxMzcuNik7XG4gICAgICB9KTtcbiAgICAgIGxldCBjb2xzID0gWzEwMSwgMjM4LCAzNzVdO1xuICAgICAgbGV0IHJvd3MgPSBbMzkxLCA1MjgsIDY2NV07XG4gICAgICBleHBlY3QocGluc1swXS54KS50by5iZS53aXRoaW4oY29sc1swXSAtIDUsIGNvbHNbMF0gKyA1KTtcbiAgICAgIGV4cGVjdChwaW5zWzFdLngpLnRvLmJlLndpdGhpbihjb2xzWzFdIC0gNSwgY29sc1sxXSArIDUpO1xuICAgICAgZXhwZWN0KHBpbnNbMl0ueCkudG8uYmUud2l0aGluKGNvbHNbMl0gLSA1LCBjb2xzWzJdICsgNSk7XG4gICAgICBleHBlY3QocGluc1szXS54KS50by5iZS53aXRoaW4oY29sc1swXSAtIDUsIGNvbHNbMF0gKyA1KTtcbiAgICAgIGV4cGVjdChwaW5zWzRdLngpLnRvLmJlLndpdGhpbihjb2xzWzFdIC0gNSwgY29sc1sxXSArIDUpO1xuICAgICAgZXhwZWN0KHBpbnNbNV0ueCkudG8uYmUud2l0aGluKGNvbHNbMl0gLSA1LCBjb2xzWzJdICsgNSk7XG4gICAgICBleHBlY3QocGluc1s2XS54KS50by5iZS53aXRoaW4oY29sc1swXSAtIDUsIGNvbHNbMF0gKyA1KTtcbiAgICAgIGV4cGVjdChwaW5zWzddLngpLnRvLmJlLndpdGhpbihjb2xzWzFdIC0gNSwgY29sc1sxXSArIDUpO1xuICAgICAgZXhwZWN0KHBpbnNbOF0ueCkudG8uYmUud2l0aGluKGNvbHNbMl0gLSA1LCBjb2xzWzJdICsgNSk7XG4gICAgICBleHBlY3QocGluc1swXS55KS50by5iZS53aXRoaW4ocm93c1swXSAtIDUsIHJvd3NbMF0gKyA1KTtcbiAgICAgIGV4cGVjdChwaW5zWzFdLnkpLnRvLmJlLndpdGhpbihyb3dzWzBdIC0gNSwgcm93c1swXSArIDUpO1xuICAgICAgZXhwZWN0KHBpbnNbMl0ueSkudG8uYmUud2l0aGluKHJvd3NbMF0gLSA1LCByb3dzWzBdICsgNSk7XG4gICAgICBleHBlY3QocGluc1szXS55KS50by5iZS53aXRoaW4ocm93c1sxXSAtIDUsIHJvd3NbMV0gKyA1KTtcbiAgICAgIGV4cGVjdChwaW5zWzRdLnkpLnRvLmJlLndpdGhpbihyb3dzWzFdIC0gNSwgcm93c1sxXSArIDUpO1xuICAgICAgZXhwZWN0KHBpbnNbNV0ueSkudG8uYmUud2l0aGluKHJvd3NbMV0gLSA1LCByb3dzWzFdICsgNSk7XG4gICAgICBleHBlY3QocGluc1s2XS55KS50by5iZS53aXRoaW4ocm93c1syXSAtIDUsIHJvd3NbMl0gKyA1KTtcbiAgICAgIGV4cGVjdChwaW5zWzddLnkpLnRvLmJlLndpdGhpbihyb3dzWzJdIC0gNSwgcm93c1syXSArIDUpO1xuICAgICAgZXhwZWN0KHBpbnNbOF0ueSkudG8uYmUud2l0aGluKHJvd3NbMl0gLSA1LCByb3dzWzJdICsgNSk7XG4gICAgfSk7XG4gIH0pO1xuICBkZXNjcmliZSgnZ2V0UGF0dGVybkFjdGlvbnMnLCBmdW5jdGlvbiAoKSB7XG4gICAgaXQoJ3Nob3VsZCBnZW5lcmF0ZSBwcmVzcywgbW92ZVRvLCByZWxhc2UgZ2VzdHVyZSBzY2hlbWUgdG8gdW5sb2NrIGJ5IHBhdHRlcm4nLCBhc3luYyBmdW5jdGlvbiAoKSB7XG4gICAgICBsZXQga2V5cyA9IFtcIjFcIiwgXCIyXCIsIFwiM1wiLCBcIjRcIiwgXCI1XCIsIFwiNlwiLCBcIjdcIiwgXCI4XCIsIFwiOVwiXTtcbiAgICAgIGxldCBhY3Rpb25zID0gaGVscGVycy5nZXRQYXR0ZXJuQWN0aW9ucyhrZXlzLCB7eDogMCwgeTowfSwgMSk7XG4gICAgICBhY3Rpb25zLm1hcCgoYWN0aW9uLCBpKSA9PiB7XG4gICAgICAgIGlmIChpID09PSAwKSB7XG4gICAgICAgICAgYWN0aW9uLmFjdGlvbi5zaG91bGQuZXF1YWwoJ3ByZXNzJyk7XG4gICAgICAgIH0gZWxzZSBpZiAoaSA9PT0ga2V5cy5sZW5ndGgpIHtcbiAgICAgICAgICBhY3Rpb24uYWN0aW9uLnNob3VsZC5lcXVhbCgncmVsZWFzZScpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGFjdGlvbi5hY3Rpb24uc2hvdWxkLmVxdWFsKCdtb3ZlVG8nKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSk7XG4gICAgaXQoJ3Nob3VsZCB2ZXJpZnkgcGF0dGVybiBnZXN0dXJlcyBtb3ZlcyB0byBub24gY29uc2VjdXRpdmVzIHBpbnMnLCBhc3luYyBmdW5jdGlvbiAoKSB7XG4gICAgICBsZXQga2V5cyA9IFtcIjdcIiwgXCIyXCIsIFwiOVwiLCBcIjhcIiwgXCI1XCIsIFwiNlwiLCBcIjFcIiwgXCI0XCIsIFwiM1wiXTtcbiAgICAgIGxldCBhY3Rpb25zID0gaGVscGVycy5nZXRQYXR0ZXJuQWN0aW9ucyhrZXlzLCB7eDogMCwgeTowfSwgMSk7XG4gICAgICAvLyBNb3ZlIGZyb20gcGluIDcgdG8gcGluIDJcbiAgICAgIGFjdGlvbnNbMV0ub3B0aW9ucy54LnNob3VsZC5lcXVhbCgxKTtcbiAgICAgIGFjdGlvbnNbMV0ub3B0aW9ucy55LnNob3VsZC5lcXVhbCgtMik7XG4gICAgICAvLyBNb3ZlIGZyb20gcGluIDIgdG8gcGluIDlcbiAgICAgIGFjdGlvbnNbMl0ub3B0aW9ucy54LnNob3VsZC5lcXVhbCgxKTtcbiAgICAgIGFjdGlvbnNbMl0ub3B0aW9ucy55LnNob3VsZC5lcXVhbCgyKTtcbiAgICAgIC8vIE1vdmUgZnJvbSBwaW4gOSB0byBwaW4gOFxuICAgICAgYWN0aW9uc1szXS5vcHRpb25zLnguc2hvdWxkLmVxdWFsKC0xKTtcbiAgICAgIGFjdGlvbnNbM10ub3B0aW9ucy55LnNob3VsZC5lcXVhbCgwKTtcbiAgICAgIC8vIE1vdmUgZnJvbSBwaW4gOCB0byBwaW4gNVxuICAgICAgYWN0aW9uc1s0XS5vcHRpb25zLnguc2hvdWxkLmVxdWFsKDApO1xuICAgICAgYWN0aW9uc1s0XS5vcHRpb25zLnkuc2hvdWxkLmVxdWFsKC0xKTtcbiAgICAgIC8vIE1vdmUgZnJvbSBwaW4gNSB0byBwaW4gNlxuICAgICAgYWN0aW9uc1s1XS5vcHRpb25zLnguc2hvdWxkLmVxdWFsKDEpO1xuICAgICAgYWN0aW9uc1s1XS5vcHRpb25zLnkuc2hvdWxkLmVxdWFsKDApO1xuICAgICAgLy8gTW92ZSBmcm9tIHBpbiA2IHRvIHBpbiAxXG4gICAgICBhY3Rpb25zWzZdLm9wdGlvbnMueC5zaG91bGQuZXF1YWwoLTIpO1xuICAgICAgYWN0aW9uc1s2XS5vcHRpb25zLnkuc2hvdWxkLmVxdWFsKC0xKTtcbiAgICAgIC8vIE1vdmUgZnJvbSBwaW4gMSB0byBwaW4gNFxuICAgICAgYWN0aW9uc1s3XS5vcHRpb25zLnguc2hvdWxkLmVxdWFsKDApO1xuICAgICAgYWN0aW9uc1s3XS5vcHRpb25zLnkuc2hvdWxkLmVxdWFsKDEpO1xuICAgICAgLy8gTW92ZSBmcm9tIHBpbiA0IHRvIHBpbiAzXG4gICAgICBhY3Rpb25zWzhdLm9wdGlvbnMueC5zaG91bGQuZXF1YWwoMik7XG4gICAgICBhY3Rpb25zWzhdLm9wdGlvbnMueS5zaG91bGQuZXF1YWwoLTEpO1xuICAgIH0pO1xuICB9KTtcbiAgZGVzY3JpYmUoJ3BhdHRlcm5VbmxvY2snLCB3aXRoTW9ja3Moe2RyaXZlciwgaGVscGVycywgYWRiLCBhc3luY2JveH0sIChtb2NrcykgPT4ge1xuICAgIGNvbnN0IGVsID0ge0VMRU1FTlQ6IDF9O1xuICAgIGNvbnN0IHBvcyA9IHt4OiAxMCwgeTogMjB9O1xuICAgIGNvbnN0IHNpemUgPSB7d2lkdGg6IDMwMH07XG4gICAgY29uc3Qga2V5cyA9IFsnMScsICczJywgJzUnLCAnNycsICc5J107XG4gICAgY29uc3QgY2FwcyA9IHt1bmxvY2tLZXk6ICcxMzU3OSd9O1xuICAgIGJlZm9yZUVhY2goZnVuY3Rpb24gKCkge1xuICAgICAgbW9ja3MuaGVscGVycy5leHBlY3RzKCdkaXNtaXNzS2V5Z3VhcmQnKS53aXRoRXhhY3RBcmdzKGRyaXZlciwgYWRiKS5vbmNlKCk7XG4gICAgICBtb2Nrcy5oZWxwZXJzLmV4cGVjdHMoJ3N0cmluZ0tleVRvQXJyJykucmV0dXJucyhrZXlzKTtcbiAgICAgIG1vY2tzLmRyaXZlci5leHBlY3RzKCdnZXRMb2NhdGlvbicpLndpdGhFeGFjdEFyZ3MoZWwuRUxFTUVOVCkucmV0dXJucyhwb3MpO1xuICAgICAgbW9ja3MuZHJpdmVyLmV4cGVjdHMoJ2dldFNpemUnKS53aXRoRXhhY3RBcmdzKGVsLkVMRU1FTlQpLnJldHVybnMoc2l6ZSk7XG4gICAgICBtb2Nrcy5oZWxwZXJzLmV4cGVjdHMoJ2dldFBhdHRlcm5BY3Rpb25zJylcbiAgICAgICAgLndpdGhFeGFjdEFyZ3Moa2V5cywgcG9zLCAxMDApLnJldHVybnMoJ2FjdGlvbnMnKTtcbiAgICAgIG1vY2tzLmRyaXZlci5leHBlY3RzKCdwZXJmb3JtVG91Y2gnKS53aXRoRXhhY3RBcmdzKCdhY3Rpb25zJykub25jZSgpO1xuICAgICAgbW9ja3MuYXN5bmNib3guZXhwZWN0cygnc2xlZXAnKS53aXRoRXhhY3RBcmdzKFVOTE9DS19XQUlUX1RJTUUpLm9uY2UoKTtcbiAgICB9KTtcbiAgICBpdCgnc2hvdWxkIGJlIGFibGUgdG8gdW5sb2NrIGRldmljZSB1c2luZyBwYXR0ZXJuIChBUEkgbGV2ZWwgPj0gMjEpJywgYXN5bmMgZnVuY3Rpb24gKCkge1xuICAgICAgbW9ja3MuYWRiLmV4cGVjdHMoJ2dldEFwaUxldmVsJykucmV0dXJucygyMSk7XG4gICAgICBtb2Nrcy5kcml2ZXIuZXhwZWN0cygnZmluZEVsT3JFbHMnKVxuICAgICAgICAud2l0aEV4YWN0QXJncygnaWQnLCAnY29tLmFuZHJvaWQuc3lzdGVtdWk6aWQvbG9ja1BhdHRlcm5WaWV3JywgZmFsc2UpXG4gICAgICAgIC5yZXR1cm5zKGVsKTtcbiAgICAgIGF3YWl0IGhlbHBlcnMucGF0dGVyblVubG9jayhhZGIsIGRyaXZlciwgY2Fwcyk7XG4gICAgICBtb2Nrcy5oZWxwZXJzLnZlcmlmeSgpO1xuICAgICAgbW9ja3MuZHJpdmVyLnZlcmlmeSgpO1xuICAgICAgbW9ja3MuYXN5bmNib3gudmVyaWZ5KCk7XG4gICAgICBtb2Nrcy5hZGIudmVyaWZ5KCk7XG4gICAgfSk7XG4gICAgaXQoJ3Nob3VsZCBiZSBhYmxlIHRvIHVubG9jayBkZXZpY2UgdXNpbmcgcGF0dGVybiAoQVBJIGxldmVsIDwgMjEpJywgYXN5bmMgZnVuY3Rpb24gKCkge1xuICAgICAgbW9ja3MuYWRiLmV4cGVjdHMoJ2dldEFwaUxldmVsJykucmV0dXJucygyMCk7XG4gICAgICBtb2Nrcy5kcml2ZXIuZXhwZWN0cygnZmluZEVsT3JFbHMnKVxuICAgICAgICAud2l0aEV4YWN0QXJncygnaWQnLCAnY29tLmFuZHJvaWQua2V5Z3VhcmQ6aWQvbG9ja1BhdHRlcm5WaWV3JywgZmFsc2UpXG4gICAgICAgIC5yZXR1cm5zKGVsKTtcbiAgICAgIGF3YWl0IGhlbHBlcnMucGF0dGVyblVubG9jayhhZGIsIGRyaXZlciwgY2Fwcyk7XG4gICAgICBtb2Nrcy5oZWxwZXJzLnZlcmlmeSgpO1xuICAgICAgbW9ja3MuZHJpdmVyLnZlcmlmeSgpO1xuICAgICAgbW9ja3MuYXN5bmNib3gudmVyaWZ5KCk7XG4gICAgICBtb2Nrcy5hZGIudmVyaWZ5KCk7XG4gICAgfSk7XG4gIH0pKTtcbn0pO1xuIl0sInNvdXJjZVJvb3QiOiIuLi8uLi8uLiJ9
